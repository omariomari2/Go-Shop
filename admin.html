<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Go-Shop | Fresh Groceries from the Farm to Your Office</title>
    <meta content="Fresh Groceries from the Farm to Your Office" name="description" />
    <meta content="Go-Shop | Fresh Groceries from the Farm to Your Office" property="og:title" />
    <meta content="Fresh Groceries from the Farm to Your Office" property="og:description" />
    <meta content="OG-Image.png" property="og:image" />
    <meta content="Fresh Groceries from the Farm to Your Office" property="twitter:title" />
    <meta content="Fresh Groceries from the Farm to Your Office" property="twitter:description" />
    <meta content="OG-Image.png" property="twitter:image" />
    <meta property="og:type" content="website" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="Go-Shop" property="og:site_name" />
    <meta content="Go-Shop" name="application-name" />
    <link rel="canonical" href="https://your-domain.com/" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link rel="stylesheet" href="src/css/backup.css">
    <link rel="stylesheet" href="src/css/nodes.css">
    <script
        type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
    <link href="src/images/logo1.png" rel="shortcut icon" type="image/x-icon" />
    <link href="src/images/logo1.png" rel="apple-touch-icon" />

    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-N4SJKW2');</script>
    <!-- End Google Tag Manager -->

    <style>
        /*lenis -- IMPORTANT*/
        html {
            scroll-behavior: initial;
        }

        html,
        body {
            width: 100%;
            height: auto !important;
            min-height: 100%;
        }

        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            scrollbar-width: none;
            /* Remove Scrollbar Firefox */
        }

        /* Remove Scrollbar Chrome */
        ::-webkit-scrollbar {
            display: none;
        }

        .c-nav-link_hover,
        .c-nav-link_hover-clone {
            visibility: hidden;
        }

        .c-nav-link_hover.reverse,
        .c-nav-link_hover-clone.reverse {
            color: var(--clr-yellow-01);
        }

        @media only screen and (max-width: 991px) {
            .c-header-mobile {
                visibility: hidden;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />


    <style>
        @media only screen and (min-width: 992px) {
            .c-header {
                height: 6em;
            }
        }

        /* PAGE LOAD */
        .c-body.scrolled .c-nav-link_hover-clone {
            color: var(--clr-yellow-01);
        }

        .c-nav-shop_num {
            background-color: var(--clr-white-01);
        }

        /* MATTER JS */
        .tricks-circle {
            overflow: hidden;
            position: absolute;
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;

        }

        .tricks-circle:nth-child(1) {
            background-image: url("https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/63f36d0a8a2d47abb9c24ac2_hm-sticker-01.svg");
        }

        .tricks-circle:nth-child(2) {
            background-image: url("https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/63f36d0ba511aa0187acde2d_hm-sticker-02.svg");
        }

        .tricks-circle:nth-child(3) {
            background-image: url("https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/63f36d0b49b46c8edbd1b89b_hm-sticker-03.svg");
        }

        .tricks-circle:nth-child(4) {
            background-image: url("https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/642fbd8481dd7390d1d3be79_hm-sticker-04-update.svg");
        }

        .tricks-circle:nth-child(5) {
            background-image: url("https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/63f36d0b161d8e6da502150d_hm-sticker-05.svg");
        }

        .tricks-circle:nth-child(6) {
            background-image: url("https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/63f36d0b5ce347482a240d56_hm-sticker-06.svg");
        }

        .tricks-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            touch-action: auto !important;
        }

        .tricks-elements,
        .tricks-spacer {
            pointer-events: none;
        }

        /*@media only screen and (max-width: 991px) {} */
        @media (pointer: coarse) and (hover: none) {
            .c-matter {
                pointer-events: none;
            }

            .tricks-matter {
                touch-action: none !important;
            }

            .tricks-canvas {
                touch-action: none !important;
            }
        }

        /* Profile Page Styles */
        .profile-section {
            padding: 4em 0;
            background-color: var(--clr-offwhite-02);
        }

        .profile-header {
            margin-bottom: 2em;
        }

        .profile-cover {
            position: relative;
            padding: 1.5em;
            background: white;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .profile-header-content {
            display: flex;
            align-items: center;
            gap: 1.5em;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--clr-offwhite-02);
            border-radius: 50%;
            border: 3px solid var(--clr-yellow-01);
            flex-shrink: 0;
        }

        .profile-info {
            flex-grow: 1;
        }

        .profile-name {
            font-size: 1.5em;
            color: var(--clr-charcoal-01);
            margin: 0 0 0.25em 0;
        }

        .profile-email {
            color: var(--clr-offwhite-01);
            font-size: 0.9em;
            margin: 0;
        }

        .profile-nav {
            margin-bottom: 2em;
        }

        /* Desktop Navigation */
        .profile-nav-desktop {
            display: flex;
            justify-content: center;
            gap: 1em;
            flex-wrap: wrap;
        }

        .profile-nav-btn {
            padding: 1em 2em;
            border: none;
            background: transparent;
            color: var(--clr-charcoal-01);
            cursor: pointer;
            font-weight: bold;
            border-radius: 30px;
            transition: all 0.3s ease;
        }

        .profile-nav-btn.active {
            background: var(--clr-yellow-01);
        }

        .profile-nav-btn:hover:not(.active) {
            background: rgba(254, 209, 65, 0.2);
        }

        /* Mobile Navigation */
        .profile-nav-mobile {
            display: none;
            width: 100%;
            position: relative;
            margin-bottom: 1em;
        }

        .profile-nav-dropdown-btn {
            width: 100%;
            padding: 1em 1.5em;
            background: var(--clr-yellow-01);
            border: none;
            border-radius: 30px;
            color: var(--clr-charcoal-01);
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .profile-nav-dropdown-btn:hover {
            background: var(--clr-original-01);
        }

        .dropdown-arrow {
            transition: transform 0.3s ease;
        }

        .profile-nav-dropdown-btn.active .dropdown-arrow {
            transform: rotate(180deg);
        }

        .profile-nav-dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 0.5em;
            z-index: 10;
            overflow: hidden;
        }

        .profile-nav-dropdown-content.show {
            display: block;
        }

        .profile-nav-dropdown-item {
            width: 100%;
            padding: 1em 1.5em;
            border: none;
            background: transparent;
            color: var(--clr-charcoal-01);
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile-nav-dropdown-item:hover {
            background: var(--clr-offwhite-02);
        }

        .profile-nav-dropdown-item.active {
            background: var(--clr-yellow-01);
        }

        .profile-tabs {
            max-width: 800px;
            margin: 0 auto;
            padding: 2em;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .profile-tab {
            display: none;
        }

        .profile-tab.active {
            display: block;
        }

        .form-section {
            margin-bottom: 2em;
            padding-bottom: 2em;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .form-section:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .form-section-title {
            color: var(--clr-charcoal-01);
            font-size: 1.2em;
            margin-bottom: 1.5em;
            font-weight: bold;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5em;
        }

        .form-group {
            margin-bottom: 1.5em;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5em;
            color: var(--clr-charcoal-01);
            font-weight: 600;
            font-size: 0.95em;
        }

        .form-hint {
            display: block;
            color: var(--clr-offwhite-01);
            font-size: 0.85em;
            margin-top: 0.5em;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-icon {
            position: absolute;
            right: 1em;
            color: var(--clr-offwhite-01);
            pointer-events: none;
        }

        .c-form-input {
            width: 100%;
            padding: 0.75em 1em;
            padding-right: 3em;
            border: 2px solid transparent;
            border-radius: 0.5em;
            background: var(--clr-offwhite-02);
            color: var(--clr-charcoal-01);
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .c-form-input::placeholder {
            color: var(--clr-offwhite-01);
        }

        .c-form-input:focus {
            outline: none;
            border-color: var(--clr-yellow-01);
            background: white;
        }

        .c-form-input:hover {
            background: white;
        }

        .form-actions {
            display: flex;
            gap: 1em;
            margin-top: 2em;
        }

        @media only screen and (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 1em;
            }

            .form-actions {
                flex-direction: column;
            }
        }

        /* Orders Tab Styles */
        .orders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2em;
        }

        .orders-filter {
            width: 200px;
        }

        .orders-list {
            display: grid;
            gap: 1.5em;
        }

        .order-item {
            padding: 1.5em;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .order-header {
            margin-bottom: 1.5em;
            padding-bottom: 1em;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .order-header-main {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5em;
        }

        .order-id h3 {
            font-size: 1.1em;
            color: var(--clr-charcoal-01);
            margin: 0 0 0.25em 0;
        }

        .order-date {
            font-size: 0.9em;
            color: var(--clr-offwhite-01);
        }

        .order-status {
            padding: 0.5em 1em;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
        }

        .order-status.delivered {
            background: #E8F5E9;
            color: #2E7D32;
        }

        .order-status.pending {
            background: #FFF3E0;
            color: #E65100;
        }

        .order-total {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 0.5em;
        }

        .order-total-label {
            color: var(--clr-offwhite-01);
            font-size: 0.9em;
        }

        .order-total-amount {
            font-weight: bold;
            color: var(--clr-charcoal-01);
        }

        .order-products {
            display: grid;
            gap: 1em;
            margin-bottom: 1.5em;
        }

        .order-product {
            display: flex;
            gap: 1em;
            padding: 1em;
            background: var(--clr-offwhite-02);
            border-radius: 10px;
        }

        .order-product-img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            flex-shrink: 0;
        }

        .order-product-info {
            flex-grow: 1;
        }

        .product-name {
            font-weight: 600;
            margin: 0 0 0.25em 0;
            color: var(--clr-charcoal-01);
        }

        .product-details {
            color: var(--clr-offwhite-01);
            font-size: 0.9em;
            margin: 0 0 0.5em 0;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 1em;
        }

        .quantity {
            background: white;
            padding: 0.25em 0.75em;
            border-radius: 15px;
            font-size: 0.9em;
            color: var(--clr-charcoal-01);
        }

        .price {
            font-weight: 600;
            color: var(--clr-charcoal-01);
        }

        .order-actions {
            display: flex;
            gap: 1em;
        }

        @media only screen and (max-width: 768px) {
            .orders-header {
                flex-direction: column;
                gap: 1em;
                align-items: stretch;
            }

            .orders-filter {
                width: 100%;
            }

            .order-header-main {
                flex-direction: column;
                gap: 0.5em;
            }

            .order-status {
                align-self: flex-start;
            }

            /* Compact mobile layout for orders */
            .order-product {
                display: grid;
                grid-template-columns: auto 1fr auto;
                gap: 1em;
                align-items: center;
                text-align: left;
                padding: 0.75em;
            }

            .order-product-img {
                width: 50px;
                height: 50px;
                margin: 0;
            }

            .order-product-info {
                min-width: 0;
            }

            .product-name {
                font-size: 0.9em;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .product-details {
                display: none;
            }

            .product-price {
                font-size: 0.9em;
                justify-content: flex-end;
            }

            .order-actions {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0.5em;
            }

            .order-actions .c-btn {
                padding: 0.5em;
                font-size: 0.9em;
            }

            .order-total {
                justify-content: flex-start;
                margin-top: 0.5em;
            }

            /* Compact mobile layout for addresses */
            .addresses-header {
                display: flex;
                gap: 1em;
                align-items: center;
            }

            .add-address-btn {
                padding: 0.5em 1em;
                font-size: 0.9em;
            }

            .address-item {
                display: grid;
                grid-template-columns: auto 1fr auto;
                gap: 1em;
                align-items: center;
                text-align: left;
                padding: 1em;
            }

            .address-icon {
                width: 36px;
                height: 36px;
                margin: 0;
            }

            .address-icon svg {
                width: 20px;
                height: 20px;
            }

            .address-content {
                min-width: 0;
            }

            .address-label {
                font-size: 1em;
                margin-bottom: 0.25em;
            }

            .address-details {
                display: flex;
                flex-wrap: wrap;
                gap: 0.25em;
            }

            .address-details p {
                font-size: 0.85em;
                margin: 0;
            }

            .address-details p:not(:last-child)::after {
                content: "â€¢";
                margin-left: 0.25em;
            }

            .address-actions {
                display: flex;
                flex-direction: row;
                gap: 0.5em;
            }

            .address-actions .c-btn {
                padding: 0.5em;
                font-size: 0.9em;
            }

            .address-badge {
                top: 0;
                right: 0;
                transform: none;
                border-radius: 0 15px 0 15px;
            }
        }

        /* Addresses Tab Styles */
        .addresses-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2em;
        }

        .add-address-btn {
            display: inline-flex;
            align-items: center;
        }

        .addresses-list {
            display: grid;
            gap: 1.5em;
        }

        .address-item {
            position: relative;
            padding: 1.5em;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 1.5em;
        }

        .address-item.default {
            border: 2px solid var(--clr-yellow-01);
        }

        .address-badge {
            position: absolute;
            top: -12px;
            right: 1.5em;
            background: var(--clr-yellow-01);
            color: var(--clr-charcoal-01);
            padding: 0.25em 1em;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .address-icon {
            width: 48px;
            height: 48px;
            background: var(--clr-offwhite-02);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--clr-charcoal-01);
            flex-shrink: 0;
        }

        .address-content {
            flex-grow: 1;
        }

        .address-label {
            font-size: 1.1em;
            color: var(--clr-charcoal-01);
            margin: 0 0 0.5em 0;
            font-weight: 600;
        }

        .address-details p {
            color: var(--clr-offwhite-01);
            margin: 0.25em 0;
            font-size: 0.95em;
        }

        .address-actions {
            display: flex;
            gap: 1em;
            margin-top: 1.5em;
        }

        .address-actions .c-btn {
            flex: 1;
        }

        .orders-list,
        .addresses-list,
        .payment-methods-list {
            display: grid;
            gap: 1.5em;
        }

        .order-item,
        .address-item,
        .payment-method-item {
            padding: 1.5em;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1em;
        }

        .order-status {
            padding: 0.5em 1em;
            background: var(--clr-yellow-01);
            border-radius: 20px;
            font-weight: bold;
        }

        .order-details {
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1.5em;
            align-items: center;
        }

        .order-product-img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 10px;
        }

        .address-actions,
        .payment-actions {
            display: flex;
            gap: 1em;
            margin-top: 1em;
        }

        .preference-group {
            margin-bottom: 2em;
        }

        .checkbox-group {
            display: grid;
            gap: 1em;
            margin-top: 1em;
        }

        @media only screen and (max-width: 768px) {
            .profile-nav-desktop {
                display: none;
            }

            .profile-nav-mobile {
                display: block;
            }

            .order-details {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .order-product-img {
                margin: 0 auto;
            }

            .address-actions,
            .payment-actions {
                flex-direction: column;
            }
        }
    </style>
</head>

<body class="c-body">
    <div class="c-global-css w-embed">
        <style>
            /* VARIABLES */
            :root {
                --app-height: 100vh;
                --clr-charcoal-01: #303A4D;
                --clr-charcoal-02: #3B4559;
                --clr-yellow-01: #FED141;
                --clr-offwhite-01: #959591;
                --clr-offwhite-02: #F4F2E6;
                --clr-white-01: #FFFFFF;
                --clr-bagel-01: #0086BF;
                --clr-bagel-02: #4698CA;
                --clr-bagel-03: #8DC8E8;
                --clr-cinnamon-01: #C24628;
                --clr-cinnamon-02: #CF6F5D;
                --clr-cinnamon-03: #D99089;
                --clr-italian-01: #93C90F;
                --clr-italian-02: #C0DF16;
                --clr-italian-03: #F0E991;
                --clr-original-01: #F1B424;
                --clr-original-02: #FED141;
                --clr-original-03: #FDF38A;
                --clr-southwest-01: #D86018;
                --clr-southwest-02: #ED8B00;
                --clr-southwest-03: #FFB549;
            }

            ::selection {
                background: rgba(149, 149, 145, 0.3);
            }

            /* 100VH SECTIONS */
            @media only screen and (max-width: 991px) {
                .c-section.hm-hero {
                    min-height: var(--app-height);
                }

                [home-hero-mobile] {
                    min-height: auto !important;
                    height: auto !important;
                }
            }


            /* ROOT SCALING  */
            @media only screen and (min-width: 992px) and (max-width: 1920px) {
                .t-body-1 {
                    font-size: clamp(20px, 1.5em, 1.5em);
                }

                .t-body-2,
                .c-txt-link,
                input::placeholder,
                .pagination_num,
                .pagination_dots {
                    font-size: clamp(18px, 1.25em, 1.25em);
                }

                .c-nav-link,
                .c-dd-link {
                    font-size: 18px;
                }

                .t-body-3,
                .community-footer input::placeholder,
                .c-filter-search::placeholder,
                .checkbox_label {
                    font-size: clamp(16px, 1em, 1em);
                }

                .c-btn-label {
                    font-size: clamp(16px, 1.125em, 1.125em);
                }

                .c-btn-label.is-small {
                    font-size: clamp(14px, 1em, 1em);
                }

                .swiper-slide.hm-hero .c-btn-label {
                    font-size: clamp(18px, 1.125em, 1.125em);
                }
            }

            /* GLOBAL */
            [no-click] {
                pointer-events: none;
            }

            [click] {
                pointer-events: auto;
            }

            [relative] {
                position: relative;
            }

            [z-5] {
                z-index: 5;
                position: relative;
            }

            [z-15] {
                z-index: 15;
                position: relative;
            }

            [overflow-hidden] {
                overflow: hidden;
            }

            [clr-offwhite-02] {
                background-color: var(--clr-offwhite-02);
            }

            [cursor-none] {
                cursor: none;
            }

            [split-type] {
                font-kerning: none;
            }

            [visibility-hidden] {
                visibility: hidden;
            }

            [clamp-two] {
                display: -webkit-box;
                overflow: hidden;
                -webkit-line-clamp: 2;
                line-clamp: 2;
                -webkit-box-orient: vertical;
            }

            .inline-block {
                display: inline-block;
            }

            .c-body.no-scroll {
                overflow: hidden;
            }

            a {
                color: inherit;
            }

            .aspect-video {
                aspect-ratio: 16 / 9
            }

            .aspect-square {
                aspect-ratio: 1 / 1;
            }

            /* BUTTONS */
            @media only screen and (min-width: 992px) {
                .c-btn.is-large {
                    padding-top: clamp(20px, 1.75em, 28px);
                    padding-bottom: clamp(20px, 1.75em, 28px);
                }

                .c-btn.is-secondary {
                    padding-top: clamp(16px, 1.75em, 20px);
                    padding-bottom: clamp(16px, 1.75em, 20px);
                }
            }

            .c-btn-icon,
            .c-btn-bg {
                will-change: auto;
            }

            .all-recipes-mobile {
                grid-column-end: span 2;
            }

            /* FOOTER */
            .c-footer-social {
                transition-timing-function: ease;
                transition-property: color;
                transition-duration: 0.4s;
            }

            .c-footer-social:hover {
                color: var(--clr-yellow-01);
            }

            .c-dd-list {
                width: calc(100% - 4em);
            }

            /* SWIPER */
            [swiper-hm-hero] {
                height: 100%;
            }


            /* OTHERS */
            .o-row.footer {
                box-shadow: 0px 3.139209032058716px 3.139209032058716px 0px hsba(0, 0%, 0%, 0.05);
            }

            .span-bg {
                position: absolute !important;
            }

            .span-wrap {
                padding-right: 0.1em;
            }

            .line {
                overflow: hidden !important;
                padding-bottom: 0.2em;
                margin-bottom: -0.2em;
                transform-origin: bottom !important;
            }

            .word {
                padding-right: 0.1em;
                margin-right: -0.1em;
            }

            .pagination_num {
                isolation: isolate;
            }

            .pagination_num.w--current::before {
                content: ' ';
                display: block;
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                opacity: 1;
                background-image: url('https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/641d79851dca18bd30455efa_Egg.svg');
                background-repeat: no-repeat;
                background-position: 50% 0;
                background-size: cover;
                z-index: -1;
            }

            .c-table-row:last-child {
                border: 0;
                padding-bottom: 0;
            }

            .c-values-item:last-child {
                padding-bottom: 0;
            }

            .c-list-item:last-child {
                padding-bottom: 0;
                border: 0;
            }

            .c-registered-wrap .t-display-7 {
                font-size: 1.25em;
                transform: translate(-0.25em, 0.25em)
            }

            .c-nav-link_hover-clone.dropdown {
                display: none;
            }

            .t-rich-text a {
                font-weight: 700;
                text-decoration: underline;
            }

            /* FORM */
            .c-form.nutrition button {
                width: 100%;
            }

            .c-form.nutrition :is(input, input:focus, input::placeholder) {
                font-size: 16px;
            }

            .c-form.nutrition textarea {
                font-size: 18px;
            }

            .c-form-input.nutrition-select {
                font-size: 18px !important;
                font-family: inherit !important;
                color: #989DA6;
                appearance: none;
            }

            .c-form-input.community-select {
                font-family: inherit !important;
                color: hsla(50.99999999999997, 39.00%, 93.00%, 0.50);
                appearance: none;
            }

            /* FORM AUTOFILL */
            input:-webkit-autofill,
            input:-webkit-autofill:hover,
            input:-webkit-autofill:focus,
            input:-webkit-autofill:active {
                transition: background-color 9000s;
                -webkit-text-fill-color: #303A4D !important;
                background-color: rgba(244, 242, 230, 0.8) !important;
                border: 1px solid #303A4D !important;
            }

            /* Profile page specific autofill styling */
            .profile-form input:-webkit-autofill,
            .profile-form input:-webkit-autofill:hover,
            .profile-form input:-webkit-autofill:focus,
            .profile-form input:-webkit-autofill:active {
                -webkit-text-fill-color: #303A4D !important;
                background-color: rgba(244, 242, 230, 0.9) !important;
                border: 1px solid #303A4D !important;
                box-shadow: 0 0 0px 1000px rgba(244, 242, 230, 0.9) inset !important;
            }

            /* Modal forms autofill styling */
            #add-address-modal input:-webkit-autofill,
            #add-payment-modal input:-webkit-autofill,
            #edit-profile-modal input:-webkit-autofill,
            .auth-form input:-webkit-autofill {
                -webkit-text-fill-color: #303A4D !important;
                background-color: rgba(255, 255, 255, 0.95) !important;
                border: 1px solid #303A4D !important;
                box-shadow: 0 0 0px 1000px rgba(255, 255, 255, 0.95) inset !important;
            }

            /* Clean Address Card Styles */
            .address-item {
                border: 1px solid #e5e5e5;
                border-radius: 0.75em;
                margin-bottom: 0.75em;
                background: white;
                transition: all 0.2s ease;
            }

            .address-item:hover {
                box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
                border-color: #d0d0d0;
            }

            .address-item.default {
                border-color: var(--clr-yellow-01);
                background-color: rgba(244, 242, 230, 0.4);
            }

            .address-content {
                padding: 0.5em 0.75em;
            }

            .address-top {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0.5em;
            }

            .address-name {
                font-weight: 600;
                color: var(--clr-charcoal-01);
                font-size: 1em;
                line-height: 1.2;
            }

            .address-bottom {
                margin-top: 0.3em;
            }

            .address-text {
                color: #666;
                font-size: 0.9em;
                line-height: 1.3;
                margin: 0;
            }

            /* Dropdown Styles */
            .dropdown-container {
                position: relative;
            }

            .options-btn {
                background: none;
                border: none;
                color: #999;
                cursor: pointer;
                padding: 0.4em;
                border-radius: 0.5em;
                transition: all 0.2s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                min-width: 32px;
                min-height: 32px;
            }

            .options-btn:hover {
                background-color: rgba(0, 0, 0, 0.08);
                color: var(--clr-charcoal-01);
                transform: scale(1.05);
            }

            .dropdown-menu {
                position: absolute;
                top: 100%;
                right: 0;
                background: white;
                border: 1px solid #e5e5e5;
                border-radius: 0.5em;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                min-width: 160px;
                z-index: 1000;
                opacity: 0;
                visibility: hidden;
                transform: translateY(-10px);
                transition: all 0.2s ease;
            }

            .dropdown-menu.show {
                opacity: 1;
                visibility: visible;
                transform: translateY(0);
            }

            .dropdown-item {
                display: flex;
                align-items: center;
                gap: 0.5em;
                width: 100%;
                padding: 0.75em 1em;
                border: none;
                background: none;
                text-align: left;
                cursor: pointer;
                transition: background-color 0.2s ease;
                font-size: 0.9em;
                color: var(--clr-charcoal-01);
            }

            .dropdown-item:first-child {
                border-radius: 0.5em 0.5em 0 0;
            }

            .dropdown-item:last-child {
                border-radius: 0 0 0.5em 0.5em;
            }

            .dropdown-item:hover {
                background-color: rgba(0, 0, 0, 0.05);
            }

            .dropdown-item.set-default-btn:hover {
                background-color: rgba(255, 165, 0, 0.1);
                color: #ff8c00;
            }

            .dropdown-item.edit-address-btn:hover {
                background-color: rgba(0, 123, 255, 0.1);
                color: #007bff;
            }

            .dropdown-item.delete-address-btn:hover {
                background-color: rgba(220, 53, 69, 0.1);
                color: #dc3545;
            }

            .dropdown-item svg {
                width: 14px;
                height: 14px;
                flex-shrink: 0;
            }

            .c-line.footer-mobile {
                width: calc(100% + 3em);
            }

            .c-nav-link.w--current .c-nav-link_hover {
                color: var(--clr-yellow-01);
                width: 100% !important;
                visibility: visible !important;
                opacity: 1 !important;
            }

            .c-dd-item-link.w--current {
                background-color: var(--clr-yellow-01);
                border-radius: 1.5em;
            }

            @media only screen and (max-width: 991px) {
                .c-dd-item-link.w--current {
                    border-radius: 0.75em;
                }

                .c-dd-item.learn .t-body-2 {
                    font-size: 0.875em;
                }
            }

            .t-rich-text a {
                transition-property: color;
                transition-duration: 200ms;
                transition-timing-function: ease;
            }

            .t-rich-text a:hover {
                color: var(--clr-original-01);
            }

            .c-blog-link.press .t-display-7 {
                transition-property: color;
                transition-duration: 400ms;
                transition-timing-function: ease;
            }

            .c-blog-link.press:hover .t-display-7 {
                color: var(--clr-offwhite-01);
            }

            .swiper-btn-next,
            .swiper-btn-prev {

                transition-property: stroke, background-color, opacity;
                transition-duration: 0.4s;
                transition-timing-function: ease;
            }

            .swiper-btn-next:hover,
            .swiper-btn-prev:hover {
                background-color: var(--clr-offwhite-01);
                color: var(--clr-charcoal-01);
            }

            .swiper-button-disabled {
                opacity: 0.4;
                pointer-events: none;
            }

            @media only screen and (min-width: 992px) {
                .c-section.hm-hero {
                    height: calc(100vh + 6.5em);
                }

                .c-section.hm-hero-2 {
                    height: auto;
                }
            }

            /* FOOTER SIGN UP BUTTON */
            /* == iPad/iPhone [portrait + landscape] == */
            @media only screen and (min-device-width: 768px) and (max-device-width: 1024px),
            only screen and (max-device-width: 480px) {
                .c-footer-submit {
                    width: 90px !important;
                }

                .c-footer-submit-txt {
                    font-size: 13px !important;
                }
            }


            @media only screen and (max-width: 991px) {
                .c-recipes-hub_lt {
                    pointer-events: none;
                }

                .c-filter-content {
                    visibility: hidden;
                }

                .c-section.recipes-hub-hero {
                    contain: paint;
                }

                .c-matter {
                    pointer-events: none;
                }

                /* Footer full width on mobile */
                .c-section.footer {
                    width: 100vw;
                    margin-left: calc(-50vw + 50%);
                }

                .c-section.footer .o-container {
                    width: 100vw;
                    max-width: 100vw;
                    padding-left: 1em;
                    padding-right: 1em;
                }
            }

            @media only screen and (max-width: 479px) {

                .c-section.hm-hero .t-display-2,
                .c-hm-title .t-display-2 {
                    font-size: 2.98em;
                }
            }

            .c-accordion-item {
                -webkit-tap-highlight-color: transparent;
            }

            /* Adjust footer margins for mobile */
            @media only screen and (max-width: 767px) {
                .margin-32 {
                    margin-bottom: 1.5em !important;
                }

                .margin-40 {
                    margin-bottom: 2em !important;
                }

                .o-row.footer-line-1 {
                    margin-bottom: 1.5em !important;
                }

                .auth-toggle-wrap {
                    margin-bottom: 1.5em !important;
                }
            }

            @media screen and (min-width: 768px) and (max-width: 991px) {
                .c-btn-wrap.hm-hero .t-body-1 {
                    font-size: 24px;
                }

                .swiper.hm-product {
                    width: 60%;
                    height: 60%;
                }
            }

            [css-radius-respect] {
                isolation: isolate;
            }

            /* Hide submenu thumbnail images globally */
            .c-dd-list .c-img-contain,
            .c-dd-list .c-img,
            .c-dd-item .c-img-contain.dd-thumb {
                display: none !important;
            }

            @media only screen and (max-width: 991px) {

                /* Hide submenu thumbnail images on mobile */
                .c-dd-list.mobile .c-img-contain,
                .c-dd-list.mobile .c-img,
                .c-dd-item .c-img-contain.dd-thumb {
                    display: none !important;
                }

                /* Mobile sidebar auth actions */
                .c-mobile-auth {
                    margin-top: 1.5em;
                    padding: 1em 0 0;
                    border-top: 1px solid currentColor;
                    display: grid;
                    gap: 0.75em;
                }

                .c-mobile-auth .c-btn {
                    width: 100%;
                    justify-content: center;
                }

                .c-mobile-auth .c-btn.is-secondary {
                    background: transparent;
                    border: 1px solid currentColor;
                    color: inherit;
                }

                /* Footer auth forms responsive */
                .auth-toggle-wrap {
                    display: flex;
                    gap: 0.5em;
                    flex-wrap: wrap;
                }

                .auth-toggle-btn {
                    flex: 1;
                    min-width: 120px;
                    font-size: 0.875em !important;
                    padding: 0.65em 1em !important;
                }
            }

            /* Footer auth forms styling */
            .auth-toggle-wrap {
                display: flex;
                gap: 0.5em;
                margin-bottom: 2em;
            }

            .auth-toggle-btn {
                background: transparent;
                color: #000000;
                border: 2px solid #000000;
                padding: 0.75em 1.5em;
                border-radius: 0.5em;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
                font-family: inherit;
            }

            .auth-toggle-btn.active {
                background: var(--clr-yellow-01);
                color: var(--clr-charcoal-01);
                border: none;
            }

            .auth-toggle-btn:hover {
                opacity: 0.8;
            }

            .auth-form .c-form-input {
                background: rgba(255, 255, 255, 0.9) !important;
                border: 1px solid rgba(255, 255, 255, 0.3);
                color: #000000 !important;
                border-radius: 0.5em;
                padding: 12px 16px !important;
                font-size: 16px !important;
                width: 100% !important;
                box-sizing: border-box;
            }

            .auth-form .c-form-input:focus {
                border-color: var(--clr-yellow-01);
                outline: none;
                background: rgba(255, 255, 255, 1) !important;
                box-shadow: 0 0 0 2px rgba(254, 209, 65, 0.3);
            }

            .auth-form .c-form-input::placeholder {
                color: rgba(0, 0, 0, 0.5) !important;
            }

            /* Auth form submit button styling */
            .auth-form .c-footer-submit-wrap {
                position: relative;
                display: flex;
                justify-content: center;
                margin-top: 1em;
                width: 100%;
            }

            .auth-form .c-footer-submit-button {
                width: 86px !important;
                height: 86px !important;
                border: none;
                background: none;
                cursor: pointer;
                position: relative;
                transition: all 0.3s ease;
                padding: 0;
            }

            .auth-form .c-footer-submit-button:hover {
                transform: scale(1.05);
            }

            .auth-form .c-footer-submit-button svg {
                width: 100%;
                height: 100%;
            }

            .auth-form .c-footer-submit-txt {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: var(--clr-charcoal-01);
                font-weight: bold;
                font-size: 14px;
                pointer-events: none;
                z-index: 10;
            }
        </style>
    </div>
    <div class="c-header">
        <div class="c-header-bg">

        </div>
        <div class="o-container">
            <div class="c-header-inner">
                <div id="w-node-_44838ccd-f486-394f-5026-75156586150b-019da0a9" class="c-header_lt">
                    <a href="recipes-hub.html" class="c-nav-link w-inline-block">
                        <div class="c-nav-link_hover w-embed">
                            <svg width="100%" height="1em" preserveAspectRatio="none" viewBox="0 0 58 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.735352" y="3.8916" width="56" height="12"
                                    transform="rotate(-3 0.735352 3.8916)" fill="currentColor" />
                            </svg>
                        </div>
                        <div z-5="">Shop</div>
                    </a>
                </div>
                <div id="w-node-_0e17fad7-b76d-4902-b572-6030bb5f248d-019da0a9" class="c-header_center">
                    <a aria-label="Go Shop Logo" href="/" aria-current="page"
                        class="c-logo-link w-inline-block w--current">
                        <div class="c-logo w-embed">
                            <img src="src/images/logo.png" alt="Go Shop Logo" width="124" height="39"
                                style="width: 100%; height: auto;" />
                        </div>
                    </a>
                </div>
                <div id="w-node-_766de0ad-ed3f-6d9c-d1aa-a14a8905ad84-019da0a9" class="c-header_rt">
                    <div class="c-dd-link">
                        <div class="c-nav-link_hover-clone w-embed">
                            <svg width="100%" height="1em" preserveAspectRatio="none" viewBox="0 0 58 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.735352" y="3.8916" width="56" height="12"
                                    transform="rotate(-3 0.735352 3.8916)" fill="currentColor" />
                            </svg>
                        </div>
                        <div class="c-nav-link_hover w-embed">
                            <svg width="100%" height="1em" preserveAspectRatio="none" viewBox="0 0 58 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.735352" y="3.8916" width="56" height="12"
                                    transform="rotate(-3 0.735352 3.8916)" fill="currentColor" />
                            </svg>
                        </div>
                        <div z-5="">Orders</div>
                        <div class="c-dd-list recipes">
                            <div class="c-dd-list-bg">

                            </div>
                            <div class="c-header_dd-wrap learn w-dyn-list">
                                <div role="list" class="c-header_dd recipes w-dyn-items">
                                    <div role="listitem" class="c-dd-item w-dyn-item">
                                        <a href="#" class="c-dd-item-link w-inline-block">
                                            <div class="c-img-contain dd-thumb">
                                            </div>
                                            <div class="c-dd-item_bt">
                                                <div class="t-body-3 is-bold">Order Now</div>
                                            </div>
                                        </a>
                                    </div>
                                    <div role="listitem" class="c-dd-item w-dyn-item">
                                        <a href="#" class="c-dd-item-link w-inline-block">
                                            <div class="c-img-contain dd-thumb">
                                            </div>
                                            <div class="c-dd-item_bt">
                                                <div class="t-body-3 is-bold">Your History</div>
                                            </div>
                                        </a>
                                    </div>
                                    <div role="listitem" class="c-dd-item w-dyn-item">
                                        <a href="#" class="c-dd-item-link w-inline-block">
                                            <div class="c-img-contain dd-thumb">
                                            </div>
                                            <div class="c-dd-item_bt">
                                                <div class="t-body-3 is-bold">Coupons</div>
                                            </div>
                                        </a>
                                    </div>
                                    <div role="listitem" class="c-dd-item w-dyn-item">
                                        <a href="#" class="c-dd-item-link w-inline-block">
                                            <div class="c-img-contain dd-thumb">
                                            </div>
                                            <div class="c-dd-item_bt">
                                                <div class="t-body-3 is-bold">Deals</div>
                                            </div>
                                        </a>
                                    </div>
                                    <div role="listitem" class="c-dd-item w-dyn-item">
                                        <a href="#" class="c-dd-item-link w-inline-block">
                                            <div class="c-img-contain dd-thumb">
                                            </div>
                                            <div class="c-dd-item_bt">
                                                <div class="t-body-3 is-bold">Contact US</div>
                                            </div>
                                        </a>
                                    </div>
                                    <div role="listitem" class="c-dd-item w-dyn-item">
                                        <a href="#" class="c-dd-item-link w-inline-block">
                                            <div class="c-img-contain dd-thumb">
                                            </div>
                                            <div class="c-dd-item_bt">
                                                <div class="t-body-3 is-bold">Follow Us</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="hide">
                                <a href="/recipes-hub" class="c-dd-item all-recipes w-inline-block">
                                    <div class="t-body-2 is-bold">Track Orders</div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="c-dd-link">
                        <div class="c-nav-link_hover-clone w-embed">
                            <svg width="100%" height="1em" preserveAspectRatio="none" viewBox="0 0 58 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.735352" y="3.8916" width="56" height="12"
                                    transform="rotate(-3 0.735352 3.8916)" fill="currentColor" />
                            </svg>
                        </div>
                        <div class="c-nav-link_hover w-embed">
                            <svg width="100%" height="1em" preserveAspectRatio="none" viewBox="0 0 58 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.735352" y="3.8916" width="56" height="12"
                                    transform="rotate(-3 0.735352 3.8916)" fill="currentColor" />
                            </svg>
                        </div>
                        <div z-5="">About</div>
                        <div class="c-dd-list learn">
                            <div class="c-dd-list-bg">

                            </div>
                            <div id="w-node-_1c2aacc5-5f71-a537-7383-67799aaa55fe-019da0a9" class="c-dd-item learn">
                                <a href="/learn/our-wraps" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb learn">
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-2 is-bold">Go-Shop</div>
                                    </div>
                                </a>
                                <link rel="prefetch" href="/learn/our-wraps" />
                            </div>
                            <div id="w-node-a1e5dfa8-a649-c541-ef25-ca953a5061f3-019da0a9" class="c-dd-item learn">
                                <a href="/learn/why-egg-whites" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb learn">
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-2 is-bold">Why Go-Shop</div>
                                    </div>
                                </a>
                                <link rel="prefetch" href="/learn/why-egg-whites" />
                            </div>
                            <div id="w-node-_069bca2c-e9ce-4874-f88a-a2ba9cc66e74-019da0a9" class="c-dd-item learn">
                                <a href="/learn/faq" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb learn">
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-2 is-bold">FAQs</div>
                                    </div>
                                </a>
                            </div>
                            <div id="w-node-_8ee84483-0672-f223-d32e-f25e50218e78-019da0a9" class="c-dd-item learn">
                                <a href="/learn/why-we-do-it" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb learn">
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-2 is-bold">Why we do it</div>
                                    </div>
                                </a>
                                <link rel="prefetch" href="/learn/why-we-do-it" />
                            </div>
                        </div>
                    </div>
                    <div class="c-nav-shop-wrap">
                        <a aria-label="Profile" href="auth.html" class="c-nav-shop w-inline-block">
                            <div class="c-icon w-embed">
                                <svg width="1.5em" height="1.5em" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M17.3333 20V18.6666C17.3333 17.9594 17.0524 17.2811 16.5523 16.781C16.0522 16.281 15.3739 16 14.6667 16H9.3334C8.62616 16 7.94788 16.281 7.44779 16.781C6.9477 17.2811 6.66675 17.9594 6.66675 18.6666V20"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M12 13.3333C13.4728 13.3333 14.6667 12.1394 14.6667 10.6666C14.6667 9.1939 13.4728 8 12 8C10.5273 8 9.33337 9.1939 9.33337 10.6666C9.33337 12.1394 10.5273 13.3333 12 13.3333Z"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M11.973 22.2441C17.4959 22.2441 21.973 17.767 21.973 12.2441C21.973 6.72129 17.4959 2.24414 11.973 2.24414C6.45017 2.24414 1.97302 6.72129 1.97302 12.2441C1.97302 17.767 6.45017 22.2441 11.973 22.2441Z"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </div>
                        </a>
                        <a aria-label="Cart" href="cart.html" class="c-nav-shop w-inline-block">
                            <div class="c-icon w-embed">
                                <svg width="1.5625em" height="1.5em" viewBox="0 0 25 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M6.91456 1.98022L3.91248 5.94062V19.802C3.91248 20.3272 4.12334 20.8309 4.49867 21.2022C4.874 21.5736 5.38306 21.7822 5.91387 21.7822H19.9236C20.4544 21.7822 20.9635 21.5736 21.3388 21.2022C21.7141 20.8309 21.925 20.3272 21.925 19.802V5.94062L18.9229 1.98022H6.91456Z"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M3.91248 5.94067H21.925" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                    <path
                                        d="M16.9216 9.90088C16.9216 10.9512 16.4999 11.9586 15.7492 12.7013C14.9985 13.444 13.9804 13.8613 12.9188 13.8613C11.8572 13.8613 10.8391 13.444 10.0884 12.7013C9.33774 11.9586 8.91602 10.9512 8.91602 9.90088"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </div>
                            <div class="c-nav-shop_num hide">

                            </div>
                        </a>
                    </div>
                </div>
                <div class="c-nav-btn">
                    <div class="c-nav-icon w-embed">
                        <svg width="39" height="40" viewBox="0 0 39 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M38.1818 21.6667C38.1818 32.4444 29.6345 40 19.0909 40C8.54729 40 0 31.5556 0 21.6667C0 11.7778 8.54729 0 19.0909 0C29.6345 0 38.1818 10.8889 38.1818 21.6667Z"
                                fill="#F4F2E6" />
                            <path d="M13 17H25" stroke="#303A4D" stroke-width="1.43" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M13 23H25" stroke="#303A4D" stroke-width="1.43" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="c-header-mobile">
        <div class="c-header-mobile_top">
            <a aria-label="Go Shop Logo" href="/" aria-current="page" class="c-logo-link w-inline-block w--current">
                <div class="c-logo w-embed">
                    <img src="src/images/logo.png" alt="Go Shop Logo" width="124" height="39"
                        style="width: 100%; height: auto;" />
                </div>
            </a>
            <div class="c-header-mobile_rt">
                <a aria-label="Profile" href="auth.html" class="c-nav-shop mobile w-inline-block">
                    <div class="c-icon w-embed">
                        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11.8094 13.7145V12.7622C11.8094 12.257 11.6087 11.7725 11.2515 11.4153C10.8943 11.0581 10.4098 10.8574 9.90468 10.8574H6.09518C5.59001 10.8574 5.10553 11.0581 4.74832 11.4153C4.39111 11.7725 4.19043 12.257 4.19043 12.7622V13.7145"
                                stroke="#303A4D" stroke-width="1.42857" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M7.99996 8.95256C9.05193 8.95256 9.90471 8.09978 9.90471 7.04781C9.90471 5.99585 9.05193 5.14307 7.99996 5.14307C6.948 5.14307 6.09521 5.99585 6.09521 7.04781C6.09521 8.09978 6.948 8.95256 7.99996 8.95256Z"
                                stroke="#303A4D" stroke-width="1.42857" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M7.98075 15.3175C11.9256 15.3175 15.1236 12.1195 15.1236 8.1746C15.1236 4.2297 11.9256 1.03174 7.98075 1.03174C4.03586 1.03174 0.837891 4.2297 0.837891 8.1746C0.837891 12.1195 4.03586 15.3175 7.98075 15.3175Z"
                                stroke="#303A4D" stroke-width="1.42857" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </a>
                <a aria-label="Cart" href="cart.html" class="c-nav-shop mobile w-inline-block">
                    <div class="c-icon w-embed">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M3.71415 0.857422L1.57129 3.71456V13.7146C1.57129 14.0934 1.7218 14.4568 1.98971 14.7247C2.25762 14.9926 2.62098 15.1431 2.99986 15.1431H12.9999C13.3787 15.1431 13.7421 14.9926 14.01 14.7247C14.2779 14.4568 14.4284 14.0934 14.4284 13.7146V3.71456L12.2856 0.857422H3.71415Z"
                                stroke="#303A4D" stroke-width="1.44286" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M1.57129 3.71436H14.4284" stroke="#303A4D" stroke-width="1.44286"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M10.8569 6.57178C10.8569 7.32954 10.5558 8.05626 10.02 8.59208C9.48421 9.1279 8.75748 9.42892 7.99972 9.42892C7.24196 9.42892 6.51523 9.1279 5.97942 8.59208C5.4436 8.05626 5.14258 7.32954 5.14258 6.57178"
                                stroke="#303A4D" stroke-width="1.44286" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="c-nav-shop_num mobile hide">

                    </div>
                </a>
                <div class="c-nav-btn">
                    <div class="c-nav-close w-embed">
                        <svg width="39" height="40" viewBox="0 0 39 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M38.1818 21.6667C38.1818 32.4444 29.6345 40 19.0909 40C8.54729 40 0 31.5556 0 21.6667C0 11.7778 8.54729 0 19.0909 0C29.6345 0 38.1818 10.8889 38.1818 21.6667Z"
                                fill="white" />
                            <path d="M23 16L15 24" stroke="#303A4D" stroke-width="1.43" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M15 16L23 24" stroke="#303A4D" stroke-width="1.43" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="c-header-mobile_bt">
            <a href="recipes-hub.html" class="c-nav-link w-inline-block">
                <div class="c-nav-link_hover w-embed">
                    <svg width="100%" height="1em" preserveAspectRatio="none" viewBox="0 0 58 16" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <rect x="0.735352" y="3.8916" width="56" height="12" transform="rotate(-3 0.735352 3.8916)"
                            fill="currentColor" />
                    </svg>
                </div>
                <div class="t-display-2 nav-mobile">Shop</div>
            </a>
            <div class="c-dd-link-mobile">
                <div class="c-dd-link-mobile-inner">
                    <div class="t-display-2 nav-mobile">Orders</div>
                    <div class="c-icon dd-icon w-embed">
                        <svg width="1em" height="1em" viewBox="0 0 25 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.5 2.6665L12.5 21.3332" stroke="#303A4D" stroke-width="5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M22.125 12L12.5 21.3333L2.875 12" stroke="#303A4D" stroke-width="5"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
                <div class="c-dd-list mobile">
                    <div class="c-header_dd-wrap learn w-dyn-list">
                        <div role="list" class="c-header_dd recipes w-dyn-items">
                            <div role="listitem" class="c-dd-item w-dyn-item">
                                <a href="#" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb">
                                        <img src="https://cdn.prod.website-files.com/6448cbe9ce99d3872617fb9c/6448cbe9ce99d33dfc17fc36_breakfast.webp"
                                            loading="eager" alt="" class="c-img" />
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-3 is-bold">Order Now</div>
                                    </div>
                                </a>
                            </div>
                            <div role="listitem" class="c-dd-item w-dyn-item">
                                <a href="#" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb">
                                        <img src="https://cdn.prod.website-files.com/6448cbe9ce99d3872617fb9c/6448cbe9ce99d308e617fc18_Lunch.webp"
                                            loading="eager" alt="" class="c-img" />
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-3 is-bold">Your History</div>
                                    </div>
                                </a>
                            </div>
                            <div role="listitem" class="c-dd-item w-dyn-item">
                                <a href="#" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb">
                                        <img src="https://cdn.prod.website-files.com/6448cbe9ce99d3872617fb9c/6448cbe9ce99d3832b17fc4b_Dinner.webp"
                                            loading="eager" alt="" class="c-img" />
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-3 is-bold">Coupons</div>
                                    </div>
                                </a>
                            </div>
                            <div role="listitem" class="c-dd-item w-dyn-item">
                                <a href="#" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb">
                                        <img src="https://cdn.prod.website-files.com/6448cbe9ce99d3872617fb9c/6448cbe9ce99d37d6017fbfa_Snacks.webp"
                                            loading="eager" alt="" class="c-img" />
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-3 is-bold">Deals</div>
                                    </div>
                                </a>
                            </div>
                            <div role="listitem" class="c-dd-item w-dyn-item">
                                <a href="#" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb">
                                        <img src="https://cdn.prod.website-files.com/6448cbe9ce99d3872617fb9c/6448cbe9ce99d3db2117fbdb_Appetizers.webp"
                                            loading="eager" alt="" class="c-img" />
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-3 is-bold">Contact US</div>
                                    </div>
                                </a>
                            </div>
                            <div role="listitem" class="c-dd-item w-dyn-item">
                                <a href="#" class="c-dd-item-link w-inline-block">
                                    <div class="c-img-contain dd-thumb">
                                        <img src="https://cdn.prod.website-files.com/6448cbe9ce99d3872617fb9c/6448cbe9ce99d3230117fbc0_Dessert.webp"
                                            loading="eager" alt="" class="c-img" />
                                    </div>
                                    <div class="c-dd-item_bt">
                                        <div class="t-body-3 is-bold">Follow Us</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="hide">
                        <a href="/recipes-hub" class="c-dd-item all-recipes-mobile w-inline-block">
                            <div class="t-body-2 is-bold">Track Orders</div>
                        </a>
                    </div>
                </div>
                <div class="c-mobile-auth">
                    <a href="auth.html" class="c-btn is-large w-inline-block">
                        <div class="c-btn-bg"></div>
                        <div class="c-btn-inner">
                            <div class="c-btn-txt">
                                <div class="c-btn-label line-1">Sign in</div>
                                <div class="c-btn-label line-2">Sign in</div>
                            </div>
                        </div>
                    </a>
                    <a href="auth.html" class="c-btn is-large is-secondary w-inline-block">
                        <div class="c-btn-inner">
                            <div class="c-btn-txt">
                                <div class="c-btn-label line-1">Create account</div>
                                <div class="c-btn-label line-2">Create account</div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="c-dd-link-mobile">
                <div class="c-dd-link-mobile-inner">
                    <div class="t-display-2 nav-mobile">About</div>
                    <div class="c-icon dd-icon w-embed">
                        <svg width="1em" height="1em" viewBox="0 0 25 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.5 2.6665L12.5 21.3332" stroke="#303A4D" stroke-width="5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M22.125 12L12.5 21.3333L2.875 12" stroke="#303A4D" stroke-width="5"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                </div>
                <div class="c-dd-list mobile">
                    <div class="c-dd-list-inner">
                        <div class="c-dd-item learn">
                            <a href="/learn/our-wraps" class="c-dd-item-link w-inline-block">
                                <div class="c-img-contain dd-thumb learn">
                                    <img src="https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/641d5bb789b0aa6ab616b025_dd-learn-img-01.webp"
                                        loading="eager" alt="" class="c-img learn" />
                                </div>
                                <div class="c-dd-item_bt">
                                    <div class="t-body-2 is-bold">Go-Shop</div>
                                </div>
                            </a>
                        </div>
                        <div id="w-node-c9f308da-a972-63b2-9fe5-bc4e9819e48e-9819e456" class="c-dd-item learn">
                            <a href="/learn/why-egg-whites" class="c-dd-item-link w-inline-block">
                                <div class="c-img-contain dd-thumb learn">
                                    <img src="https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/641d5bb7903a715a7d99f1f8_dd-learn-img-02.webp"
                                        loading="eager" alt="" class="c-img learn" />
                                </div>
                                <div class="c-dd-item_bt">
                                    <div class="t-body-2 is-bold">Why Go-Shop</div>
                                </div>
                            </a>
                        </div>
                        <div id="w-node-c9f308da-a972-63b2-9fe5-bc4e9819e495-9819e456" class="c-dd-item learn">
                            <a href="/learn/faq" class="c-dd-item-link w-inline-block">
                                <div class="c-img-contain dd-thumb learn">
                                    <img src="https://cdn.prod.website-files.com/63e361a5e2a22da1600ef70f/641d5bb80ff1037b4d5dea6b_dd-learn-img-03.webp"
                                        loading="eager" alt="" class="c-img learn" />
                                </div>
                                <div class="c-dd-item_bt">
                                    <div class="t-body-2 is-bold">FAQs</div>
                                </div>
                            </a>
                        </div>
                        <div id="w-node-c9f308da-a972-63b2-9fe5-bc4e9819e49c-9819e456" class="c-dd-item learn">
                            <a href="/learn/why-we-do-it" class="c-dd-item-link w-inline-block">
                                <div class="c-img-contain dd-thumb learn">
                                    <img srcset="https://assets-global.website-files.com/6448cbe9ce99d3adb517fb98/6448cbe9ce99d336c217fcd3_why-dd-p-500.webp 500w, https://assets-global.website-files.com/6448cbe9ce99d3adb517fb98/6448cbe9ce99d336c217fcd3_why-dd.webp 606w"
                                        loading="eager" sizes="100vw"
                                        src="https://cdn.prod.website-files.com/6448cbe9ce99d3adb517fb98/6448cbe9ce99d336c217fcd3_why-dd.webp"
                                        alt="a factory worker making fresh grocery products" class="c-img learn" />
                                </div>
                                <div class="c-dd-item_bt">
                                    <div class="t-body-2 is-bold">Why we do it</div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <main id="smooth-wrapper" class="o-page-wrapper" style="padding-top: 8rem;">
      <!-- Admin Login Form -->
      <div id="admin-login" class="admin-login-container" style="display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 8rem); background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem;">
        <div class="admin-login-form" style="background: #fff; padding: 3rem; border-radius: 12px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); max-width: 400px; width: 100%;">
          <div style="text-align: center; margin-bottom: 2rem;">
            <h1 style="font-size: 1.5rem; font-weight: 700; color: #303A4D; margin: 0 0 0.5rem 0;">Admin Access</h1>
            <p style="color: #6b7280; font-size: 0.875rem; margin: 0;">Enter your credentials to continue</p>
          </div>
          
          <form id="admin-login-form" style="display: flex; flex-direction: column; gap: 1.5rem;">
            <div>
              <label for="admin-username" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Username</label>
              <input type="text" id="admin-username" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;" placeholder="Enter username">
            </div>
            
            <div>
              <label for="admin-password" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Password</label>
              <input type="password" id="admin-password" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;" placeholder="Enter password">
            </div>
            
            <button type="submit" style="background: #FED141; color: #303A4D; padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.2s ease; text-transform: uppercase; letter-spacing: 0.025em;">
              Sign In
            </button>
            
            <div id="admin-error" style="display: none; background: #fef2f2; border: 1px solid #fecaca; color: #dc2626; padding: 12px; border-radius: 6px; font-size: 0.875rem; text-align: center;"></div>
          </form>
        </div>
      </div>

      <!-- Admin Dashboard (hidden until authenticated) -->
      <div id="admin-dashboard" class="admin-dashboard" style="padding: 3rem 2rem; max-width: 1200px; margin: 0 auto; display: none; background: #ffffff; min-height: calc(100vh - 8rem);">
        <!-- Header -->
        <div style="margin-bottom: 3rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
          <div>
            <h1 style="font-size: 2.5rem; font-weight: 800; color: #1e293b; margin-bottom: 0.5rem; line-height: 1.2;">Admin Dashboard</h1>
            <p style="color: #64748b; font-size: 1.125rem; margin: 0;">Go-Shop Management Console</p>
          </div>
        </div>

        <!-- Admin Navigation -->
        <div class="admin-nav" style="margin-bottom: 2rem;">
          <!-- Mobile Dropdown -->
          <div class="admin-nav-mobile" style="display: none; width: 100%; position: relative; margin-bottom: 1em;">
            <button class="admin-nav-dropdown-btn" style="width: 100%; padding: 1em 1.5em; background: #1e293b; border: none; border-radius: 30px; color: #ffffff; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: all 0.2s ease;">
              <span class="dropdown-text">Analytics</span>
              <svg class="dropdown-arrow" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="transition: transform 0.3s ease;">
                <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <div class="admin-nav-dropdown-content" style="display: none; position: absolute; top: 100%; left: 0; right: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); z-index: 100; overflow: hidden;">
              <button class="admin-nav-dropdown-item active" data-tab="analytics" style="width: 100%; padding: 1em 1.5em; border: none; background: transparent; color: #1e293b; cursor: pointer; text-align: left; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zM7 7h2v10H7V7zm4-2h2v12h-2V5zm4 4h2v8h-2V9z" fill="currentColor"/>
                </svg>
                Analytics
              </button>
              <button class="admin-nav-dropdown-item" data-tab="shops" style="width: 100%; padding: 1em 1.5em; border: none; background: transparent; color: #64748b; cursor: pointer; text-align: left; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Shops
              </button>
              <button class="admin-nav-dropdown-item" data-tab="orders" style="width: 100%; padding: 1em 1.5em; border: none; background: transparent; color: #64748b; cursor: pointer; text-align: left; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 11V7a4 4 0 0 0-8 0v4M5 9h14l1 12H4L5 9z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Recent Orders
              </button>
              <button class="admin-nav-dropdown-item" data-tab="vendors" style="width: 100%; padding: 1em 1.5em; border: none; background: transparent; color: #64748b; cursor: pointer; text-align: left; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 8 0 4 4 0 0 0-8 0M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Vendor Applications
              </button>
              <button class="admin-nav-dropdown-item" data-tab="settings" style="width: 100%; padding: 1em 1.5em; border: none; background: transparent; color: #64748b; cursor: pointer; text-align: left; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="currentColor" stroke-width="2"/>
                </svg>
                Settings
              </button>
            </div>
          </div>

          <!-- Desktop Navigation -->
          <div class="admin-nav-desktop" style="display: flex; justify-content: center; gap: 1em; flex-wrap: wrap;">
            <button class="admin-nav-btn active" data-tab="analytics" style="padding: 1em 2em; border: none; background: #1e293b; color: #ffffff; cursor: pointer; border-radius: 30px; font-weight: 600; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zM7 7h2v10H7V7zm4-2h2v12h-2V5zm4 4h2v8h-2V9z" fill="currentColor"/>
              </svg>
              Analytics
            </button>
            <button class="admin-nav-btn" data-tab="shops" style="padding: 1em 2em; border: none; background: transparent; color: #64748b; cursor: pointer; border-radius: 30px; font-weight: 600; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Shops
            </button>
            <button class="admin-nav-btn" data-tab="orders" style="padding: 1em 2em; border: none; background: transparent; color: #64748b; cursor: pointer; border-radius: 30px; font-weight: 600; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 11V7a4 4 0 0 0-8 0v4M5 9h14l1 12H4L5 9z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Recent Orders
            </button>
            <button class="admin-nav-btn" data-tab="vendors" style="padding: 1em 2em; border: none; background: transparent; color: #64748b; cursor: pointer; border-radius: 30px; font-weight: 600; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 8 0 4 4 0 0 0-8 0M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Vendor Applications
            </button>
            <button class="admin-nav-btn" data-tab="settings" style="padding: 1em 2em; border: none; background: transparent; color: #64748b; cursor: pointer; border-radius: 30px; font-weight: 600; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="currentColor" stroke-width="2"/>
              </svg>
              Settings
            </button>
          </div>
        </div>

        <!-- Tab Content -->
        <div class="admin-tab-content">
          <!-- Analytics Tab -->
          <div id="analytics-tab" class="admin-tab-panel active" style="display: block;">
        <!-- Stats Overview -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
          <div class="stat-card" style="background: #ffffff; padding: 2rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-left: 4px solid #3b82f6; transition: transform 0.2s ease, box-shadow 0.2s ease; border: 1px solid #e2e8f0;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div>
                <h3 style="font-size: 0.875rem; font-weight: 600; color: #6b7280; margin: 0 0 0.5rem 0; text-transform: uppercase;">Total Orders</h3>
                <p id="total-orders" style="font-size: 2rem; font-weight: 800; color: #303A4D; margin: 0;">â€”</p>
              </div>
              <div style="width: 48px; height: 48px; background: rgba(254, 209, 65, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11M5 9H19L20 21H4L5 9Z" stroke="#FED141" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>

          <div class="stat-card" style="background: #ffffff; padding: 2rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-left: 4px solid #10b981; transition: transform 0.2s ease, box-shadow 0.2s ease; border: 1px solid #e2e8f0;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div>
                <h3 style="font-size: 0.875rem; font-weight: 600; color: #6b7280; margin: 0 0 0.5rem 0; text-transform: uppercase;">Revenue</h3>
                <p id="total-revenue" style="font-size: 2rem; font-weight: 800; color: #303A4D; margin: 0;">â€”</p>
              </div>
              <div style="width: 48px; height: 48px; background: rgba(16, 185, 129, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2V22M17 5H9.5C8.11929 5 7 6.11929 7 7.5S8.11929 10 9.5 10H14.5C15.8807 10 17 11.1193 17 12.5S15.8807 15 14.5 15H7" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>

          <div class="stat-card" style="background: #ffffff; padding: 2rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-left: 4px solid #6366f1; transition: transform 0.2s ease, box-shadow 0.2s ease; border: 1px solid #e2e8f0;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div>
                <h3 style="font-size: 0.875rem; font-weight: 600; color: #6b7280; margin: 0 0 0.5rem 0; text-transform: uppercase;">Active Users</h3>
                <p id="active-users" style="font-size: 2rem; font-weight: 800; color: #303A4D; margin: 0;">â€”</p>
              </div>
              <div style="width: 48px; height: 48px; background: rgba(59, 130, 246, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21M13 7C13 9.20914 11.2091 11 9 11C6.79086 11 5 9.20914 5 7C5 4.79086 6.79086 3 9 3C11.2091 3 13 4.79086 13 7ZM23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45768C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>

          <div class="stat-card" style="background: #ffffff; padding: 2rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-left: 4px solid #8b5cf6; transition: transform 0.2s ease, box-shadow 0.2s ease; border: 1px solid #e2e8f0;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
              <div>
                <h3 style="font-size: 0.875rem; font-weight: 600; color: #6b7280; margin: 0 0 0.5rem 0; text-transform: uppercase;">Vendor Applications</h3>
                <p id="vendor-applications" style="font-size: 2rem; font-weight: 800; color: #303A4D; margin: 0;">â€”</p>
              </div>
              <div style="width: 48px; height: 48px; background: rgba(139, 92, 246, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 21V19C19 17.9391 18.5786 16.9217 17.8284 16.1716C17.0783 15.4214 16.0609 15 15 15H9C7.93913 15 6.92172 15.4214 6.17157 16.1716C5.42143 16.9217 5 17.9391 5 19V21M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="#8B5CF6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Orders -->
        <div style="background: #ffffff; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 2rem; border: 1px solid #e2e8f0; overflow: hidden;">
          <div style="padding: 2rem; border-bottom: 1px solid #e2e8f0; background: #f8fafc;">
            <h2 style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0;">Recent Orders</h2>
            <p style="color: #64748b; font-size: 0.875rem; margin: 0.5rem 0 0 0;">Latest customer orders and transactions</p>
          </div>
          <div id="recent-orders" style="padding: 2rem;">
            <div style="text-align: center; color: #6b7280; padding: 2rem;">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                <path d="M16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11M5 9H19L20 21H4L5 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>Loading orders...</p>
            </div>
          </div>
        </div>


        <!-- Vendor Applications -->
        <div style="background: #ffffff; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 2rem; border: 1px solid #e2e8f0; overflow: hidden;">
          <div style="padding: 2rem; border-bottom: 1px solid #e2e8f0; background: #f8fafc;">
            <h2 style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0;">Vendor Applications</h2>
            <p style="color: #64748b; font-size: 0.875rem; margin: 0.5rem 0 0 0;">Pending vendor registration requests</p>
          </div>
          <div id="vendor-applications-list" style="padding: 2rem;">
            <div style="text-align: center; color: #6b7280; padding: 2rem;">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                <path d="M19 21V19C19 17.9391 18.5786 16.9217 17.8284 16.1716C17.0783 15.4214 16.0609 15 15 15H9C7.93913 15 6.92172 15.4214 6.17157 16.1716C5.42143 16.9217 5 17.9391 5 19V21M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p>Loading applications...</p>
            </div>
          </div>
            </div>

            <!-- Analytics Charts Placeholder -->
            <div style="background: #ffffff; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); padding: 2rem; border: 1px solid #e2e8f0;">
              <h3 style="font-size: 1.25rem; font-weight: 700; color: #1e293b; margin: 0 0 1rem 0;">Analytics Overview</h3>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <div style="text-align: center; padding: 2rem; background: #f8fafc; border-radius: 12px;">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; color: #64748b;">
                    <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zM7 7h2v10H7V7zm4-2h2v12h-2V5zm4 4h2v8h-2V9z" fill="currentColor"/>
                  </svg>
                  <h4 style="color: #1e293b; margin: 0 0 0.5rem 0;">Order Trends</h4>
                  <p style="color: #64748b; margin: 0;">Chart placeholder for order trends over time</p>
                </div>
                <div style="text-align: center; padding: 2rem; background: #f8fafc; border-radius: 12px;">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; color: #64748b;">
                    <path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <h4 style="color: #1e293b; margin: 0 0 0.5rem 0;">Revenue Chart</h4>
                  <p style="color: #64748b; margin: 0;">Chart placeholder for revenue analytics</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Shops Tab -->
          <div id="shops-tab" class="admin-tab-panel" style="display: none;">
            <div style="background: #fff; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid rgba(0,0,0,0.05); overflow: hidden;">
              <div style="padding: 2rem; border-bottom: 1px solid #e2e8f0; background: #f8fafc;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                  <div>
                    <h2 style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0;">Shop Management</h2>
                    <p style="color: #64748b; font-size: 0.875rem; margin: 0.5rem 0 0 0;">Manage shops, vendors, and market listings</p>
                  </div>
                  <button id="add-shop-btn" style="background: #3b82f6; color: #ffffff; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-weight: 600; font-size: 0.875rem; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Add Shop
                  </button>
                </div>
              </div>
              <div id="shops-list" style="padding: 2rem;">
                <div style="text-align: center; color: #6b7280; padding: 2rem;">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                    <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <p>Loading shops...</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Orders Tab -->
          <div id="orders-tab" class="admin-tab-panel" style="display: none;">
            <div style="background: #fff; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid rgba(0,0,0,0.05); overflow: hidden;">
              <div style="padding: 2rem; border-bottom: 1px solid #e2e8f0; background: #f8fafc;">
                <h2 style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0;">Recent Orders</h2>
                <p style="color: #64748b; font-size: 0.875rem; margin: 0.5rem 0 0 0;">Latest customer orders and their status</p>
              </div>
              <div id="recent-orders" style="padding: 2rem;">
                <div style="text-align: center; color: #6b7280; padding: 2rem;">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                    <path d="M16 11V7a4 4 0 0 0-8 0v4M5 9h14l1 12H4L5 9z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <p>Loading orders...</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Vendors Tab -->
          <div id="vendors-tab" class="admin-tab-panel" style="display: none;">
            <div style="background: #fff; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid rgba(0,0,0,0.05); overflow: hidden;">
              <div style="padding: 2rem; border-bottom: 1px solid #e2e8f0; background: #f8fafc;">
                <h2 style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0;">Vendor Applications</h2>
                <p style="color: #64748b; font-size: 0.875rem; margin: 0.5rem 0 0 0;">Pending vendor applications awaiting approval</p>
              </div>
              <div id="vendor-applications-list" style="padding: 2rem;">
                <div style="text-align: center; color: #6b7280; padding: 2rem;">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 8 0 4 4 0 0 0-8 0M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <p>Loading applications...</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Settings Tab -->
          <div id="settings-tab" class="admin-tab-panel" style="display: none;">
            <div style="background: #ffffff; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); padding: 2rem; border: 1px solid #e2e8f0;">
              <h3 style="font-size: 1.25rem; font-weight: 700; color: #1e293b; margin: 0 0 1.5rem 0;">System Settings</h3>
              <div style="display: grid; gap: 1.5rem;">
                <div style="padding: 1.5rem; background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0;">
                  <h4 style="color: #1e293b; margin: 0 0 0.5rem 0;">General Settings</h4>
                  <p style="color: #64748b; margin: 0 0 1rem 0;">Configure general system settings and preferences</p>
                     <button style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">Configure</button>
                </div>
                <div style="padding: 1.5rem; background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0;">
                  <h4 style="color: #1e293b; margin: 0 0 0.5rem 0;">Notification Settings</h4>
                  <p style="color: #64748b; margin: 0 0 1rem 0;">Manage email and system notifications</p>
                     <button style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">Configure</button>
                </div>
                <div style="padding: 1.5rem; background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0;">
                  <h4 style="color: #1e293b; margin: 0 0 0.5rem 0;">Security Settings</h4>
                  <p style="color: #64748b; margin: 0 0 1rem 0;">Manage security and access controls</p>
                     <button style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; transition: all 0.2s ease;">Configure</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Shop Management Modal -->
    <div id="shop-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
      <div class="modal-content" style="background: #fff; border-radius: 16px; box-shadow: 0 20px 40px rgba(0,0,0,0.15); max-width: 600px; width: 90%;">
        <div class="modal-header" style="padding: 2rem; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
          <h3 id="shop-modal-title" style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0;">Add New Shop</h3>
          <button id="close-shop-modal" style="background: none; border: none; font-size: 1.5rem; color: #6b7280; cursor: pointer; padding: 0.5rem; border-radius: 50%; transition: all 0.2s ease;">&times;</button>
        </div>
        
        <form id="shop-form" style="padding: 2rem;">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div>
              <label for="shop-name" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Shop Name *</label>
              <input type="text" id="shop-name" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;">
            </div>
            <div>
              <label for="shop-category" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Category *</label>
              <select id="shop-category" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box; background: #fff;">
                <option value="">Select Category</option>
                <option value="fruits">Fruits & Vegetables</option>
                <option value="dairy">Dairy & Eggs</option>
                <option value="meat">Meat & Seafood</option>
                <option value="bakery">Bakery & Bread</option>
                <option value="beverages">Beverages</option>
                <option value="snacks">Snacks & Confectionery</option>
                <option value="health">Health & Wellness</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
          
          <div style="margin-bottom: 1.5rem;">
            <label for="shop-description" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Description *</label>
            <textarea id="shop-description" required rows="3" style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box; resize: vertical; font-family: inherit;"></textarea>
          </div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div>
              <label for="shop-owner" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Owner Name *</label>
              <input type="text" id="shop-owner" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;">
            </div>
            <div>
              <label for="shop-email" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Contact Email *</label>
              <input type="email" id="shop-email" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;">
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div>
              <label for="shop-phone" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Phone Number</label>
              <input type="tel" id="shop-phone" style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;">
            </div>
            <div>
              <label for="shop-location" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Location *</label>
              <input type="text" id="shop-location" required style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;">
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
            <div>
              <label for="shop-image" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Image URL</label>
              <input type="url" id="shop-image" style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box;">
            </div>
            <div>
              <label for="shop-status" style="display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">Status</label>
              <select id="shop-status" style="width: 100%; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; transition: border-color 0.2s ease; box-sizing: border-box; background: #fff;">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
                <option value="pending">Pending Approval</option>
              </select>
            </div>
          </div>
          
          <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
            <button type="button" id="cancel-shop" style="background: #f3f4f6; color: #374151; padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.2s ease;">Cancel</button>
                 <button type="submit" id="save-shop" style="background: #3b82f6; color: #ffffff; padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.2s ease;">Save Shop</button>
          </div>
        </form>
      </div>
    </div>

    <style>
      .admin-dashboard {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      }
      
      /* Admin Navigation Styles */
      .admin-nav-btn {
        transition: all 0.2s ease;
      }
      
      .admin-nav-btn:hover:not(.active) {
        background: #334155 !important;
        color: #ffffff !important;
      }
      
      .admin-nav-btn.active {
        background: #1e293b !important;
        color: #ffffff !important;
        box-shadow: 0 2px 8px rgba(30, 41, 59, 0.3);
      }
      
      .admin-nav-dropdown-btn:hover {
        background: #334155 !important;
      }
      
      .admin-nav-dropdown-btn.active .dropdown-arrow {
        transform: rotate(180deg);
      }
      
      .admin-nav-dropdown-content.show {
        display: block !important;
      }
      
      .admin-nav-dropdown-item:hover {
        background: #f1f5f9 !important;
        color: #1e293b !important;
      }
      
      .admin-nav-dropdown-item.active {
        background: #1e293b !important;
        color: #ffffff !important;
      }
      
      .admin-tab-panel {
        animation: fadeIn 0.3s ease-in-out;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      /* Mobile Navigation Responsiveness */
      @media (max-width: 768px) {
        .admin-nav-desktop {
          display: none !important;
        }
        
        .admin-nav-mobile {
          display: block !important;
        }
      }
      
      @media (min-width: 769px) {
        .admin-nav-desktop {
          display: flex !important;
        }
        
        .admin-nav-mobile {
          display: none !important;
        }
      }
      
      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(0,0,0,0.12);
      }
      
      .order-item {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        transition: all 0.2s ease;
      }
      
      .order-item:hover {
        background: #f1f5f9;
        border-color: #cbd5e1;
        transform: translateY(-1px);
      }
      
      .vendor-application {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        transition: all 0.2s ease;
      }
      
      .vendor-application:hover {
        background: #f1f5f9;
        border-color: #cbd5e1;
        transform: translateY(-1px);
      }
      
      .shop-card {
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        overflow: hidden;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
      }
      
      .shop-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
      }
      
      .shop-card:hover .shop-image-container img {
        transform: scale(1.05);
      }
      
      .shop-card:hover .shop-actions-overlay {
        opacity: 1;
      }
      
      .shops-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-bottom: 2rem;
      }
      
      .phone-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        background: #f1f5f9;
        border-radius: 50%;
        color: #64748b;
        transition: all 0.2s ease;
        cursor: pointer;
        position: relative;
      }
      
      .phone-icon:hover {
        background: #e2e8f0;
        color: #475569;
        transform: scale(1.1);
      }
      
      /* Scroll locking for modals and overlays */
      body.modal-open {
        overflow: hidden;
        position: fixed;
        width: 100%;
        height: 100%;
      }
      
      body.dropdown-open {
        overflow: hidden;
      }
      
      /* Modal scroll containment */
      .modal-content {
        max-height: 90vh;
        overflow-y: auto;
        overflow-x: hidden;
      }
      
      /* Dropdown scroll containment */
      .profile-nav-dropdown-content {
        max-height: 70vh;
        overflow-y: auto;
        overflow-x: hidden;
      }
      
      /* Smooth scrolling for modal content */
      .modal-content::-webkit-scrollbar {
        width: 6px;
      }
      
      .modal-content::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
      }
      
      .modal-content::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 3px;
      }
      
      .modal-content::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
      
      /* Prevent scroll on mobile when modal is open */
      @media (max-width: 768px) {
        body.modal-open {
          position: fixed;
          width: 100%;
          height: 100%;
          overflow: hidden;
        }
        
        body.dropdown-open {
          overflow: hidden;
        }
      }
      
      /* Smooth transitions for modal content */
      .modal-content {
        scroll-behavior: smooth;
      }
      
      /* Focus management for accessibility */
      .modal-content:focus {
        outline: none;
      }
      
      .shop-info {
        flex: 1;
        min-width: 300px;
      }
      
      .shop-actions {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      
      .shop-status {
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.025em;
      }
      
      .status-active {
        background: #dcfce7;
        color: #166534;
      }
      
      .status-inactive {
        background: #fef2f2;
        color: #dc2626;
      }
      
      .status-pending {
        background: #fef3c7;
        color: #d97706;
      }
      
      .btn-edit, .btn-delete {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      
      .btn-edit {
        background: #dbeafe;
        color: #1e40af;
      }
      
      .btn-edit:hover {
        background: #bfdbfe;
      }
      
      .btn-delete {
        background: #fee2e2;
        color: #dc2626;
      }
      
      .btn-delete:hover {
        background: #fecaca;
      }
      
      #add-shop-btn:hover {
        background: #2563eb;
        transform: translateY(-1px);
      }
      
      #shop-modal {
        display: flex;
      }
      
      .modal-hidden {
        display: none !important;
      }
      
      .admin-login-container {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      }
      
      .admin-login-form input:focus {
        outline: none;
        border-color: #FED141;
        box-shadow: 0 0 0 3px rgba(254, 209, 65, 0.1);
      }
      
      .admin-login-form button:hover {
        background: #f3d03e;
        transform: translateY(-1px);
      }
      
      .admin-login-form button:active {
        transform: translateY(0);
      }
      
      .stat-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      
      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      }
      
      .order-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        border-bottom: 1px solid #f3f4f6;
        transition: background-color 0.2s ease;
      }
      
      .order-item:hover {
        background-color: #f9fafb;
      }
      
      .order-item:last-child {
        border-bottom: none;
      }
      
      .vendor-application {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
        border-bottom: 1px solid #f3f4f6;
        transition: background-color 0.2s ease;
      }
      
      .vendor-application:hover {
        background-color: #f9fafb;
      }
      
      .vendor-application:last-child {
        border-bottom: none;
      }
      
      .status-badge {
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
      }
      
      .status-pending {
        background-color: #FEF3C7;
        color: #92400E;
      }
      
      .status-completed {
        background-color: #D1FAE5;
        color: #065F46;
      }
      
      .status-delivered {
        background-color: #DBEAFE;
        color: #1E40AF;
      }
      
      @media (max-width: 768px) {
        .admin-dashboard {
          padding: 1.5rem 1rem;
        }
        
        .stat-card {
          padding: 1.5rem;
        }
        
        .admin-dashboard h1 {
          font-size: 2rem !important;
        }
        
        .admin-dashboard h2 {
          font-size: 1.25rem !important;
        }
        
        .order-item, .vendor-application {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }
        
        /* Mobile Shop Management Improvements */
        .shops-grid {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }
        
        .shop-card {
          margin-bottom: 0;
        }
        
        .shop-card .shop-image-container {
          height: 180px;
        }
        
        .shop-card .shop-content {
          padding: 1.25rem;
        }
        
        .shop-card .shop-content h3 {
          font-size: 1.125rem;
        }
        
        /* Mobile Modal Improvements */
        #shop-modal > div {
          width: 95%;
          margin: 1rem;
          max-height: 95vh;
        }
        
        #shop-form > div {
          grid-template-columns: 1fr;
          gap: 1rem;
        }
        
        #shop-form input,
        #shop-form select,
        #shop-form textarea {
          font-size: 16px; /* Prevents zoom on iOS */
        }
        
        .form-actions {
          flex-direction: column;
          gap: 0.75rem;
        }
        
        .form-actions button {
          width: 100%;
          padding: 14px 24px;
        }
        
        /* Additional Mobile Improvements */
        .btn-edit, .btn-delete {
          min-height: 44px; /* iOS touch target minimum */
          padding: 12px 16px;
        }
        
        #add-shop-btn {
          min-height: 44px;
          padding: 12px 20px;
        }
        
        .shop-item {
          padding: 1.25rem;
        }
        
        .shop-info > div:first-child {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.75rem;
        }
        
        .shops-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }
        
        .shop-card .shop-image-container {
          height: 160px;
        }
        
        .shop-card .shop-content {
          padding: 1rem;
        }
        
        .shop-card .shop-content h3 {
          font-size: 1rem;
        }
        
        .shop-actions-overlay {
          opacity: 1 !important;
        }
        
        .shop-actions-overlay button {
          width: 36px;
          height: 36px;
        }
        
        .phone-icon {
          width: 28px;
          height: 28px;
        }
        
        .phone-icon svg {
          width: 14px;
          height: 14px;
        }
      }
      
      @media (max-width: 768px) and (min-width: 481px) {
        /* Tablet-specific improvements */
        #shop-modal > div {
          width: 90%;
          margin: 2rem;
        }
        
        #shop-form > div {
          grid-template-columns: 1fr;
          gap: 1.25rem;
        }
        
        .shops-grid {
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 1.5rem;
        }
        
        .shop-card .shop-image-container {
          height: 190px;
        }
      }
      
      @media (max-width: 480px) {
        .admin-dashboard {
          padding: 1rem 0.75rem;
        }
        
        .stat-card {
          padding: 1.25rem;
        }
        
        .admin-dashboard h1 {
          font-size: 1.75rem !important;
        }
        
        /* Mobile Shop Management Styles */
        .shop-item {
          flex-direction: column;
          align-items: stretch;
          gap: 1rem;
        }
        
        .shop-info {
          min-width: unset;
        }
        
        .shop-actions {
          justify-content: space-between;
          width: 100%;
        }
        
        .shop-actions .shop-status {
          order: -1;
          align-self: flex-start;
        }
        
        /* Mobile Modal Styles */
        #shop-modal > div {
          width: 95%;
          margin: 1rem;
          max-height: 95vh;
        }
        
        #shop-modal .modal-header {
          padding: 1.5rem;
        }
        
        #shop-modal .modal-header h3 {
          font-size: 1.25rem;
        }
        
        #shop-form {
          padding: 1.5rem;
        }
        
        #shop-form > div {
          grid-template-columns: 1fr;
          gap: 1rem;
        }
        
        #shop-form input,
        #shop-form select,
        #shop-form textarea {
          font-size: 16px; /* Prevents zoom on iOS */
        }
        
        #shop-form .form-actions {
          flex-direction: column;
          gap: 0.75rem;
        }
        
        #shop-form .form-actions button {
          width: 100%;
          padding: 14px 24px;
        }
      }
    </style>

    <script>
      // Admin Dashboard JavaScript
      (function() {
        'use strict';
        
        // Admin credentials
        const ADMIN_CREDENTIALS = {
          username: 'admin',
          password: 'admin123'
        };
        
        // Check if already authenticated
        function checkAuth() {
          const isAdminAuthenticated = sessionStorage.getItem('admin_authenticated') === 'true';
          if (isAdminAuthenticated) {
            showDashboard();
          } else {
            showLogin();
          }
        }
        
        // Show login form
        function showLogin() {
          document.getElementById('admin-login').style.display = 'flex';
          document.getElementById('admin-dashboard').style.display = 'none';
        }
        
        // Show dashboard
        function showDashboard() {
          document.getElementById('admin-login').style.display = 'none';
          document.getElementById('admin-dashboard').style.display = 'block';
          loadOrders();
          loadVendorApplications();
          loadShops();
          addLogoutButton();
          initializeAdminTabs();
        }
        
        // Initialize admin tab functionality
      function initializeAdminTabs() {
        const tabButtons = document.querySelectorAll('.admin-nav-btn, .admin-nav-dropdown-item');
        const tabPanels = document.querySelectorAll('.admin-tab-panel');
        const dropdownBtn = document.querySelector('.admin-nav-dropdown-btn');
        const dropdownContent = document.querySelector('.admin-nav-dropdown-content');
        const dropdownText = document.querySelector('.dropdown-text');
        
        // Desktop and mobile tab switching
        tabButtons.forEach(button => {
          button.addEventListener('click', () => {
            const targetTab = button.getAttribute('data-tab');
            switchTab(targetTab);
            
            // Update dropdown button text and close dropdown for mobile
            if (dropdownText && button.classList.contains('admin-nav-dropdown-item')) {
              dropdownText.textContent = button.textContent.trim();
              if (dropdownBtn) {
                dropdownBtn.classList.remove('active');
              }
              if (dropdownContent) {
                dropdownContent.classList.remove('show');
              }
            }
          });
        });
        
        // Mobile dropdown toggle
        if (dropdownBtn && dropdownContent) {
          dropdownBtn.addEventListener('click', () => {
            dropdownBtn.classList.toggle('active');
            dropdownContent.classList.toggle('show');
          });
          
          // Close dropdown when clicking outside
          document.addEventListener('click', (e) => {
            if (!dropdownBtn.contains(e.target)) {
              dropdownBtn.classList.remove('active');
              dropdownContent.classList.remove('show');
            }
          });
        }
      }
      
      function switchTab(targetTab) {
        const tabButtons = document.querySelectorAll('.admin-nav-btn, .admin-nav-dropdown-item');
        const tabPanels = document.querySelectorAll('.admin-tab-panel');
        
        // Remove active class from all buttons and panels
        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabPanels.forEach(panel => panel.style.display = 'none');
        
        // Add active class to clicked button
        const activeButton = document.querySelector(`[data-tab="${targetTab}"]`);
        if (activeButton) {
          activeButton.classList.add('active');
        }
        
        // Show target panel
        const targetPanel = document.getElementById(targetTab + '-tab');
        if (targetPanel) {
          targetPanel.style.display = 'block';
          
          // Load data for specific tabs when they become active
          if (targetTab === 'orders') {
            loadOrders();
          } else if (targetTab === 'vendors') {
            loadVendorApplications();
          } else if (targetTab === 'shops') {
            loadShops();
          }
        }
        }
        
        // Handle login form submission
        function handleLogin(event) {
          event.preventDefault();
          
          const username = document.getElementById('admin-username').value.trim();
          const password = document.getElementById('admin-password').value;
          const errorDiv = document.getElementById('admin-error');
          
          // Clear previous errors
          errorDiv.style.display = 'none';
          
          // Validate credentials
          if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
            // Successful login
            sessionStorage.setItem('admin_authenticated', 'true');
            showDashboard();
          } else {
            // Failed login
            errorDiv.textContent = 'Invalid username or password';
            errorDiv.style.display = 'block';
            
            // Clear form
            document.getElementById('admin-username').value = '';
            document.getElementById('admin-password').value = '';
            document.getElementById('admin-username').focus();
          }
        }
        
        // Handle logout
        function handleLogout() {
          sessionStorage.removeItem('admin_authenticated');
          showLogin();
        }
        
        // Add logout button to dashboard
        function addLogoutButton() {
          const header = document.querySelector('#admin-dashboard > div:first-child');
          if (header && !document.getElementById('admin-logout-btn')) {
            const logoutBtn = document.createElement('button');
            logoutBtn.id = 'admin-logout-btn';
            logoutBtn.textContent = 'Logout';
            logoutBtn.style.cssText = `
              background: #ef4444;
              color: white;
              padding: 8px 16px;
              border: none;
              border-radius: 6px;
              font-size: 14px;
              font-weight: 500;
              cursor: pointer;
              transition: background-color 0.2s ease;
              margin-left: auto;
            `;
            
            logoutBtn.addEventListener('mouseenter', function() {
              this.style.backgroundColor = '#dc2626';
            });
            
            logoutBtn.addEventListener('mouseleave', function() {
              this.style.backgroundColor = '#ef4444';
            });
            
            logoutBtn.addEventListener('click', handleLogout);
            
            header.style.display = 'flex';
            header.style.alignItems = 'center';
            header.style.justifyContent = 'space-between';
            header.appendChild(logoutBtn);
          }
        }
        
        function formatCurrency(amount) {
          return `â‚µ${parseFloat(amount || 0).toFixed(2)}`;
        }
        
        function formatDate(dateString) {
          return new Date(dateString).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
          });
        }
        
        function loadOrders() {
          try {
            // Load guest orders
            const guestOrders = JSON.parse(localStorage.getItem('goshop_guest_orders') || '[]');
            
            // Load member orders (from user data)
            let memberOrders = [];
            try {
              const users = JSON.parse(localStorage.getItem('goshop_users') || '[]');
              users.forEach(user => {
                if (user.orders && user.orders.length > 0) {
                  user.orders.forEach(order => {
                    memberOrders.push({
                      ...order,
                      customerName: user.fullname,
                      customerEmail: user.email,
                      isMember: true
                    });
                  });
                }
              });
            } catch (e) {
              console.log('Could not load member orders:', e);
            }
            
            // Combine and sort all orders
            const allOrders = [...guestOrders, ...memberOrders].sort((a, b) => 
              new Date(b.createdAt || 0) - new Date(a.createdAt || 0)
            );
            
            // Update stats
            document.getElementById('total-orders').textContent = allOrders.length;
            
            const totalRevenue = allOrders.reduce((sum, order) => 
              sum + (order.totals?.total || 0), 0
            );
            document.getElementById('total-revenue').textContent = formatCurrency(totalRevenue);
            
            // Count unique users
            const uniqueEmails = new Set();
            allOrders.forEach(order => {
              if (order.email) uniqueEmails.add(order.email);
              if (order.customerEmail) uniqueEmails.add(order.customerEmail);
            });
            document.getElementById('active-users').textContent = uniqueEmails.size;
            
            // Display recent orders
            displayRecentOrders(allOrders.slice(0, 10));
            
          } catch (e) {
            console.error('Error loading orders:', e);
            document.getElementById('recent-orders').innerHTML = `
              <div style="text-align: center; color: #ef4444; padding: 2rem;">
                <p>Error loading orders</p>
              </div>
            `;
          }
        }
        
        function displayRecentOrders(orders) {
          const container = document.getElementById('recent-orders');
          
          if (orders.length === 0) {
            container.innerHTML = `
              <div style="text-align: center; color: #6b7280; padding: 2rem;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                  <path d="M16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11M5 9H19L20 21H4L5 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>No orders found</p>
              </div>
            `;
            return;
          }
          
          container.innerHTML = orders.map(order => `
            <div class="order-item">
              <div>
                <div style="font-weight: 600; color: #303A4D; margin-bottom: 0.25rem;">
                  ${order.id || 'Unknown ID'}
                </div>
                <div style="font-size: 0.875rem; color: #6b7280;">
                  ${order.customerName || order.email || 'Guest'} â€¢ ${formatDate(order.createdAt)}
                </div>
                <div style="font-size: 0.875rem; color: #6b7280;">
                  ${order.items?.length || 0} items
                </div>
              </div>
              <div style="text-align: right;">
                <div style="font-weight: 700; color: #303A4D; margin-bottom: 0.25rem;">
                  ${formatCurrency(order.totals?.total || 0)}
                </div>
                <div class="status-badge status-${order.status || 'pending'}">
                  ${order.status || 'pending'}
                </div>
              </div>
            </div>
          `).join('');
        }
        
        function loadVendorApplications() {
          try {
            const applications = JSON.parse(localStorage.getItem('goshop_vendor_applications') || '[]');
            
            document.getElementById('vendor-applications').textContent = applications.length;
            
            displayVendorApplications(applications);
            
          } catch (e) {
            console.error('Error loading vendor applications:', e);
            document.getElementById('vendor-applications-list').innerHTML = `
              <div style="text-align: center; color: #ef4444; padding: 2rem;">
                <p>Error loading applications</p>
              </div>
            `;
          }
        }
        
        function displayVendorApplications(applications) {
          const container = document.getElementById('vendor-applications-list');
          
          if (applications.length === 0) {
            container.innerHTML = `
              <div style="text-align: center; color: #6b7280; padding: 2rem;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                  <path d="M19 21V19C19 17.9391 18.5786 16.9217 17.8284 16.1716C17.0783 15.4214 16.0609 15 15 15H9C7.93913 15 6.92172 15.4214 6.17157 16.1716C5.42143 16.9217 5 17.9391 5 19V21M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>No vendor applications found</p>
              </div>
            `;
            return;
          }
          
          container.innerHTML = applications.map(app => `
            <div class="vendor-application">
              <div>
                <div style="font-weight: 600; color: #303A4D; margin-bottom: 0.25rem;">
                  ${app.businessName || 'Unknown Business'}
                </div>
                <div style="font-size: 0.875rem; color: #6b7280;">
                  ${app.contactName || 'Unknown Contact'} â€¢ ${app.email || 'No email'}
                </div>
                <div style="font-size: 0.875rem; color: #6b7280;">
                  ${app.businessType || 'Unknown Type'} â€¢ Applied ${formatDate(app.submittedAt)}
                </div>
              </div>
              <div style="text-align: right;">
                <div class="status-badge status-pending">
                  Pending Review
                </div>
              </div>
            </div>
          `).join('');
        }
        
        // Shop Management Functions
        let currentEditingShopId = null;
        
        function loadShops() {
          try {
            const shops = JSON.parse(localStorage.getItem('goshop_shops') || '[]');
            displayShops(shops);
          } catch (e) {
            console.error('Error loading shops:', e);
            document.getElementById('shops-list').innerHTML = `
              <div style="text-align: center; color: #ef4444; padding: 2rem;">
                <p>Error loading shops</p>
              </div>
            `;
          }
        }
        
        function displayShops(shops) {
          const container = document.getElementById('shops-list');
          
          if (shops.length === 0) {
            container.innerHTML = `
              <div style="text-align: center; color: #6b7280; padding: 2rem;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                  <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>No shops found</p>
                <p style="font-size: 0.875rem; margin-top: 0.5rem;">Click "Add Shop" to create your first shop</p>
              </div>
            `;
            return;
          }
          
          container.innerHTML = `
            <div class="shops-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
              ${shops.map(shop => `
                <div class="shop-card" data-shop-id="${shop.id}" style="background: #fff; border-radius: 20px; box-shadow: 0 8px 30px rgba(0,0,0,0.12); overflow: hidden; transition: all 0.3s ease; cursor: pointer; position: relative;">
                  <div class="shop-image-container" style="position: relative; height: 200px; overflow: hidden; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    ${shop.image ? 
                      `<img src="${shop.image}" alt="${shop.name}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">` : 
                      `<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: linear-gradient(135deg, #FED141 0%, #e6c236 100%);">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: #1e293b;">
                          <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </div>`
                    }
                    <div class="shop-status-overlay" style="position: absolute; top: 1rem; right: 1rem;">
                      <span class="shop-status status-${shop.status}" style="padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.025em; backdrop-filter: blur(10px); background: rgba(255,255,255,0.9);">
                        ${shop.status}
                      </span>
                    </div>
                    <div class="shop-actions-overlay" style="position: absolute; top: 1rem; left: 1rem; display: flex; gap: 0.5rem; opacity: 0; transition: opacity 0.3s ease;">
                      <button class="btn-edit" onclick="event.stopPropagation(); editShop('${shop.id}')" style="background: rgba(59, 130, 246, 0.9); color: white; padding: 0.5rem; border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease; backdrop-filter: blur(10px);">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                      <button class="btn-delete" onclick="event.stopPropagation(); deleteShop('${shop.id}')" style="background: rgba(239, 68, 68, 0.9); color: white; padding: 0.5rem; border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease; backdrop-filter: blur(10px);">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                    </div>
                  </div>
                  <div class="shop-content" style="padding: 1.5rem;">
                    <div style="margin-bottom: 1rem;">
                      <h3 style="font-size: 1.25rem; font-weight: 700; color: #1e293b; margin: 0 0 0.5rem 0; line-height: 1.3;">
                        ${shop.name}
                      </h3>
                      <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                        <span style="background: #f1f5f9; color: #475569; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase;">
                          ${shop.category}
                        </span>
                        <span style="color: #64748b; font-size: 0.875rem;">
                          ðŸ“ ${shop.location}
                        </span>
                      </div>
                      <p style="color: #64748b; font-size: 0.875rem; line-height: 1.5; margin: 0 0 1rem 0; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                        ${shop.description}
                      </p>
                    </div>
                    <div style="border-top: 1px solid #e2e8f0; padding-top: 1rem;">
                      <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                          <div style="font-size: 0.875rem; color: #64748b; margin-bottom: 0.25rem;">
                            Owner: <span style="font-weight: 600; color: #1e293b;">${shop.owner}</span>
                          </div>
                          <div style="font-size: 0.75rem; color: #94a3b8;">
                            ${shop.email}
                          </div>
                        </div>
                        <div style="text-align: right;">
                          ${shop.phone ? `<div class="phone-icon" title="${shop.phone}">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                          </div>` : ''}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              `).join('')}
            </div>
          `;
        }
        
        function openShopModal(shopId = null) {
          const modal = document.getElementById('shop-modal');
          const title = document.getElementById('shop-modal-title');
          const form = document.getElementById('shop-form');
          
          if (shopId) {
            title.textContent = 'Edit Shop';
            currentEditingShopId = shopId;
            loadShopData(shopId);
          } else {
            title.textContent = 'Add New Shop';
            currentEditingShopId = null;
            form.reset();
          }
          
          modal.style.display = 'flex';
          lockBodyScroll();
        }
        
        function closeShopModal() {
          const modal = document.getElementById('shop-modal');
          modal.style.display = 'none';
          currentEditingShopId = null;
          unlockBodyScroll();
        }
        
        function loadShopData(shopId) {
          const shops = JSON.parse(localStorage.getItem('goshop_shops') || '[]');
          const shop = shops.find(s => s.id === shopId);
          
          if (shop) {
            document.getElementById('shop-name').value = shop.name || '';
            document.getElementById('shop-category').value = shop.category || '';
            document.getElementById('shop-description').value = shop.description || '';
            document.getElementById('shop-owner').value = shop.owner || '';
            document.getElementById('shop-email').value = shop.email || '';
            document.getElementById('shop-phone').value = shop.phone || '';
            document.getElementById('shop-location').value = shop.location || '';
            document.getElementById('shop-image').value = shop.image || '';
            document.getElementById('shop-status').value = shop.status || 'active';
          }
        }
        
        function saveShop(event) {
          event.preventDefault();
          
          const formData = {
            name: document.getElementById('shop-name').value.trim(),
            category: document.getElementById('shop-category').value,
            description: document.getElementById('shop-description').value.trim(),
            owner: document.getElementById('shop-owner').value.trim(),
            email: document.getElementById('shop-email').value.trim(),
            phone: document.getElementById('shop-phone').value.trim(),
            location: document.getElementById('shop-location').value.trim(),
            image: document.getElementById('shop-image').value.trim(),
            status: document.getElementById('shop-status').value
          };
          
          // Validation
          if (!formData.name || !formData.category || !formData.description || !formData.owner || !formData.email || !formData.location) {
            alert('Please fill in all required fields');
            return;
          }
          
          if (!isValidEmail(formData.email)) {
            alert('Please enter a valid email address');
            return;
          }
          
          const shops = JSON.parse(localStorage.getItem('goshop_shops') || '[]');
          
          if (currentEditingShopId) {
            // Update existing shop
            const index = shops.findIndex(s => s.id === currentEditingShopId);
            if (index !== -1) {
              shops[index] = { ...shops[index], ...formData };
            }
          } else {
            // Add new shop
            const newShop = {
              id: 'shop_' + Date.now(),
              ...formData,
              createdAt: new Date().toISOString(),
              updatedAt: new Date().toISOString()
            };
            shops.push(newShop);
          }
          
          localStorage.setItem('goshop_shops', JSON.stringify(shops));
          loadShops();
          closeShopModal();
        }
        
        
        function isValidEmail(email) {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return emailRegex.test(email);
        }
        
        // Initialize sample data if none exists
        function initializeSampleData() {
          const existingShops = localStorage.getItem('goshop_shops');
          if (!existingShops || JSON.parse(existingShops).length === 0) {
            const sampleShops = [
              {
                id: 'shop_1',
                name: 'Fresh Farm Produce',
                category: 'fruits',
                description: 'Fresh organic fruits and vegetables delivered daily from local farms. We specialize in seasonal produce and sustainable farming practices.',
                owner: 'John Smith',
                email: 'john@freshfarm.com',
                phone: '+233 24 123 4567',
                location: 'Accra, Ghana',
                image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',
                status: 'active',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
              },
              {
                id: 'shop_2',
                name: 'Dairy Delights',
                category: 'dairy',
                description: 'Premium dairy products including fresh milk, cheese, yogurt, and artisanal butter. All products are locally sourced and pasteurized.',
                owner: 'Mary Johnson',
                email: 'mary@dairydelights.com',
                phone: '+233 24 234 5678',
                location: 'Kumasi, Ghana',
                image: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop',
                status: 'active',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
              },
              {
                id: 'shop_3',
                name: 'Bakery Corner',
                category: 'bakery',
                description: 'Artisanal breads, pastries, and baked goods made fresh daily. We use traditional recipes and high-quality ingredients.',
                owner: 'David Brown',
                email: 'david@bakerycorner.com',
                phone: '+233 24 345 6789',
                location: 'Tema, Ghana',
                image: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop',
                status: 'pending',
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
              }
            ];
            localStorage.setItem('goshop_shops', JSON.stringify(sampleShops));
          }
        }
        
        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', function() {
          // Initialize sample data
          initializeSampleData();
          
          // Check authentication status
          checkAuth();
          
          // Add login form event listener
          document.getElementById('admin-login-form').addEventListener('submit', handleLogin);
          
          // Add shop management event listeners
          document.getElementById('add-shop-btn').addEventListener('click', () => openShopModal());
          document.getElementById('close-shop-modal').addEventListener('click', closeShopModal);
          document.getElementById('cancel-shop').addEventListener('click', closeShopModal);
          document.getElementById('shop-form').addEventListener('submit', saveShop);
          
          // Close modal when clicking outside
          document.getElementById('shop-modal').addEventListener('click', function(e) {
            if (e.target === this) {
              closeShopModal();
            }
          });
          
          // Add logout button when dashboard is shown
          addLogoutButton();
        });
        
        // Refresh data every 30 seconds
        setInterval(() => {
          loadOrders();
          loadVendorApplications();
          loadShops();
        }, 30000);
        
      })();
      
      // Scroll locking utilities
      function lockBodyScroll() {
        document.body.classList.add('modal-open');
        // Store current scroll position
        const scrollY = window.scrollY;
        document.body.style.top = `-${scrollY}px`;
        document.body.style.position = 'fixed';
        document.body.style.width = '100%';
      }
      
      function unlockBodyScroll() {
        document.body.classList.remove('modal-open');
        // Restore scroll position
        const scrollY = document.body.style.top;
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.width = '';
        if (scrollY) {
          window.scrollTo(0, parseInt(scrollY || '0') * -1);
        }
      }
      
      function lockBodyScrollForDropdown() {
        document.body.classList.add('dropdown-open');
      }
      
      function unlockBodyScrollForDropdown() {
        document.body.classList.remove('dropdown-open');
      }
      
      // Global shop management functions
      function editShop(shopId) {
        // Access the function from the IIFE scope
        if (typeof window.openShopModal === 'function') {
          window.openShopModal(shopId);
        } else {
          // Fallback: try to access from the global scope
          const modal = document.getElementById('shop-modal');
          if (modal) {
            modal.style.display = 'flex';
            lockBodyScroll();
            // Load shop data into form
            const shops = JSON.parse(localStorage.getItem('goshop_shops') || '[]');
            const shop = shops.find(s => s.id === shopId);
            if (shop) {
              document.getElementById('shop-name').value = shop.name;
              document.getElementById('shop-category').value = shop.category;
              document.getElementById('shop-description').value = shop.description;
              document.getElementById('shop-owner').value = shop.owner;
              document.getElementById('shop-email').value = shop.email;
              document.getElementById('shop-phone').value = shop.phone || '';
              document.getElementById('shop-location').value = shop.location;
              document.getElementById('shop-image').value = shop.image || '';
              document.getElementById('shop-status').value = shop.status;
              document.getElementById('shop-modal-title').textContent = 'Edit Shop';
              document.getElementById('save-shop').textContent = 'Update Shop';
              document.getElementById('save-shop').setAttribute('data-shop-id', shopId);
            }
          }
        }
      }
      
      function deleteShop(shopId) {
        if (confirm('Are you sure you want to delete this shop? This action cannot be undone.')) {
          const shops = JSON.parse(localStorage.getItem('goshop_shops') || '[]');
          const updatedShops = shops.filter(s => s.id !== shopId);
          localStorage.setItem('goshop_shops', JSON.stringify(updatedShops));
          // Reload shops display
          const shopsList = document.getElementById('shops-list');
          if (shopsList) {
            const updatedShopsData = JSON.parse(localStorage.getItem('goshop_shops') || '[]');
            if (updatedShopsData.length === 0) {
              shopsList.innerHTML = `
                <div style="text-align: center; color: #6b7280; padding: 2rem;">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-bottom: 1rem; opacity: 0.5;">
                    <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <p>No shops found. Add your first shop to get started!</p>
                </div>
              `;
            } else {
              // Re-render shops
              shopsList.innerHTML = `
                <div class="shops-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                  ${updatedShopsData.map(shop => `
                    <div class="shop-card" data-shop-id="${shop.id}" style="background: #fff; border-radius: 20px; box-shadow: 0 8px 30px rgba(0,0,0,0.12); overflow: hidden; transition: all 0.3s ease; cursor: pointer; position: relative;">
                      <div class="shop-image-container" style="position: relative; height: 200px; overflow: hidden; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        ${shop.image ?
                          `<img src="${shop.image}" alt="${shop.name}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">` :
                          `<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: linear-gradient(135deg, #FED141 0%, #e6c236 100%);">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: #1e293b;">
                              <path d="M3 7V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V7M3 7L5 21H19L21 7M3 7H21M9 11V17M15 11V17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                          </div>`
                        }
                        <div class="shop-status-overlay" style="position: absolute; top: 1rem; right: 1rem;">
                          <span class="shop-status status-${shop.status}" style="padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.025em; backdrop-filter: blur(10px); background: rgba(255,255,255,0.9);">
                            ${shop.status}
                          </span>
                        </div>
                        <div class="shop-actions-overlay" style="position: absolute; top: 1rem; left: 1rem; display: flex; gap: 0.5rem; opacity: 0; transition: opacity 0.3s ease;">
                          <button class="btn-edit" onclick="event.stopPropagation(); editShop('${shop.id}')" style="background: rgba(59, 130, 246, 0.9); color: white; padding: 0.5rem; border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease; backdrop-filter: blur(10px);">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                              <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                          </button>
                          <button class="btn-delete" onclick="event.stopPropagation(); deleteShop('${shop.id}')" style="background: rgba(239, 68, 68, 0.9); color: white; padding: 0.5rem; border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s ease; backdrop-filter: blur(10px);">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                          </button>
                        </div>
                      </div>
                      <div class="shop-content" style="padding: 1.5rem;">
                        <div style="margin-bottom: 1rem;">
                          <h3 style="font-size: 1.25rem; font-weight: 700; color: #1e293b; margin: 0 0 0.5rem 0; line-height: 1.3;">
                            ${shop.name}
                          </h3>
                          <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                            <span style="background: #f1f5f9; color: #475569; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase;">
                              ${shop.category}
                            </span>
                            <span style="color: #64748b; font-size: 0.875rem;">
                              ðŸ“ ${shop.location}
                            </span>
                          </div>
                          <p style="color: #64748b; font-size: 0.875rem; line-height: 1.5; margin: 0 0 1rem 0; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                            ${shop.description}
                          </p>
                        </div>
                        <div style="border-top: 1px solid #e2e8f0; padding-top: 1rem;">
                          <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                              <div style="font-size: 0.875rem; color: #64748b; margin-bottom: 0.25rem;">
                                Owner: <span style="font-weight: 600; color: #1e293b;">${shop.owner}</span>
                              </div>
                              <div style="font-size: 0.75rem; color: #94a3b8;">
                                ${shop.email}
                              </div>
                            </div>
                            <div style="text-align: right;">
                              ${shop.phone ? `<div class="phone-icon" title="${shop.phone}">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                              </div>` : ''}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  `).join('')}
                </div>
              `;
            }
          }
        }
      }
    </script>

    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6448cbe9ce99d3adb517fb98"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">

        </script>
    <script src="https://assets-global.website-files.com/6448cbe9ce99d3adb517fb98/js/egglife-showcase.a4e3f1ec9.js"
        type="text/javascript">

        </script>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N4SJKW2" height="0" width="0"
            style="display:none;visibility:hidden">
        </iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@0.2.28/bundled/lenis.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/Draggable.min.js"></script>
    <script src="https://webflow-assets.sfo2.cdn.digitaloceanspaces.com/egglife/DrawSVGPlugin.min.js"></script>
    <script src="https://webflow-assets.sfo2.cdn.digitaloceanspaces.com/egglife/InertiaPlugin.min.js"></script>
    <script src="https://webflow-assets.sfo2.cdn.digitaloceanspaces.com/egglife/split-type.js"></script>
    <script src="https://webflow-assets.sfo2.cdn.digitaloceanspaces.com/egglife/script.js"></script>


    <script>
        const pprtgr = [
            'color: #F2F3F3',
            'background: #080808',
            'font-size: 12px',
            'padding-left: 10px',
            'line-height: 2',
            'border-left: 5px solid #ff3c31',
        ].join(';');
        // Website attribution removed
    </script>

    <script>
        class Scroll extends Lenis {
            constructor() {
                super({
                    duration: 1.5,
                    easing: (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t)),
                    direction: "vertical",
                    smooth: true,
                    smoothTouch: false,
                    touchMultiplier: 1.5,
                });

                this.time = 0;
                this.isActive = true;
                this.init();
            }

            init() {
                this.config();
                this.render();
            }

            config() {
                // allow scrolling on overflow elements
                const overscroll = [
                    ...document.querySelectorAll('[data-scroll="overscroll"]'),
                ];

                if (overscroll.length > 0) {
                    overscroll.forEach((item) =>
                        item.setAttribute("onwheel", "event.stopPropagation()")
                    );
                }

                // stop and start scroll btns
                const stop = [...document.querySelectorAll('[data-scroll="stop"]')];
                if (stop.length > 0) {
                    stop.forEach((item) => {
                        item.onclick = () => {
                            this.stop();
                            this.isActive = false;
                        };
                    });
                }

                const start = [...document.querySelectorAll('[data-scroll="start"]')];
                if (start.length > 0) {
                    start.forEach((item) => {
                        item.onclick = () => {
                            this.start();
                            this.isActive = true;
                        };
                    });
                }

                // toggle page scrolling
                const toggle = [...document.querySelectorAll('[data-scroll="toggle"]')];
                if (toggle.length > 0) {
                    toggle.forEach((item) => {
                        item.onclick = () => {
                            if (this.isActive) {
                                this.stop();
                                this.isActive = false;
                            } else {
                                this.start();
                                this.isActive = true;
                            }
                        };
                    });
                }

                // anchor links
                const anchor = [...document.querySelectorAll("[data-scrolllink]")];
                if (anchor.length > 0) {
                    anchor.forEach((item) => {
                        const id = parseFloat(item.dataset.scrolllink);
                        const target = document.querySelector(`[data-scrolltarget="${id}"]`);
                        if (target) {
                            console.log(id, target);
                            item.onclick = () => this.scrollTo(target);
                        }
                    });
                }
            }

            render() {
                this.raf((this.time += 10));
                window.requestAnimationFrame(this.render.bind(this));
            }
        }

        window.Scroll = new Scroll();
        observeEditor(); // don't trigger if it's webflow editor view

        /*
         * Make Editor View Scrollable
         */
        function observeEditor() {
            const html = document.documentElement;
            const config = { attributes: true, childList: false, subtree: false };

            const callback = (mutationList, observer) => {
                for (const mutation of mutationList) {
                    if (mutation.type === "attributes") {
                        const btn = document.querySelector(".w-editor-bem-EditSiteButton");
                        const bar = document.querySelector(".w-editor-bem-EditorMainMenu");
                        const addTrig = (target) =>
                            target.addEventListener("click", () => window.Scroll.destroy());

                        if (btn) addTrig(btn);
                        if (bar) addTrig(bar);
                    }
                }
            };

            const observer = new MutationObserver(callback);
            observer.observe(html, config);
        }
    </script>

    <script type="text/javascript">
        // Auth form toggle and handling
        (function () {
            // Form toggle functionality
            var toggleBtns = document.querySelectorAll('.auth-toggle-btn');
            var signinForm = document.getElementById('signin-form');
            var signupForm = document.getElementById('signup-form');

            toggleBtns.forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var formType = this.getAttribute('data-form');

                    // Update button states
                    toggleBtns.forEach(function (b) {
                        b.classList.remove('active');
                        if (b.getAttribute('data-form') === 'signup') {
                            b.style.background = 'rgba(255, 255, 255, 0.2)';
                            b.style.color = '#000000';
                            b.style.border = '2px solid #000000';
                        } else {
                            b.style.background = 'transparent';
                            b.style.color = '#000000';
                            b.style.border = '2px solid #000000';
                        }
                    });

                    this.classList.add('active');
                    this.style.background = 'var(--clr-yellow-01)';
                    this.style.color = 'var(--clr-charcoal-01)';
                    this.style.border = 'none';

                    // Show/hide forms
                    if (formType === 'signin') {
                        signinForm.style.display = 'block';
                        signupForm.style.display = 'none';

                        // Update text content for sign in
                        document.getElementById('form-heading').textContent = 'Welcome Back';
                        document.getElementById('form-description').textContent = 'Sign in to your account to access your orders, favorites, and personalized shopping experience.';
                    } else {
                        signinForm.style.display = 'none';
                        signupForm.style.display = 'block';

                        // Update text content for create account
                        document.getElementById('form-heading').textContent = 'Join Go-Shop';
                        document.getElementById('form-description').textContent = 'Create an account to start shopping fresh groceries from local farmers, track orders, and get exclusive deals.';
                    }
                });
            });

            // Form submission handlers
            var forms = document.querySelectorAll('.auth-form form');
            var successEl = document.querySelector('.success_message');
            var errorEl = document.querySelector('.error_message');

            function validateEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }

            function validatePassword(password) {
                return password.length >= 6;
            }

            function showMessage(type, message) {
                if (type === 'success') {
                    if (successEl) {
                        successEl.querySelector('.thank_you').textContent = message;
                        successEl.style.display = 'block';
                    }
                    if (errorEl) errorEl.style.display = 'none';
                } else {
                    if (errorEl) {
                        errorEl.querySelector('.error').textContent = message;
                        errorEl.style.display = 'block';
                    }
                    if (successEl) successEl.style.display = 'none';
                }
            }

            forms.forEach(function (form) {
                form.addEventListener('submit', function (e) {
                    e.preventDefault();

                    var formName = this.getAttribute('name');
                    var email = this.querySelector('input[name="email"]').value;
                    var password = this.querySelector('input[name="password"]').value;

                    // Validate email
                    if (!validateEmail(email)) {
                        showMessage('error', 'Please enter a valid email address');
                        return;
                    }

                    // Validate password
                    if (!validatePassword(password)) {
                        showMessage('error', 'Password must be at least 6 characters long');
                        return;
                    }

                    if (formName === 'signup-form') {
                        var fullname = this.querySelector('input[name="fullname"]').value;
                        var username = this.querySelector('input[name="username"]').value;
                        var location = this.querySelector('input[name="location"]').value;
                        var confirmPassword = this.querySelector('input[name="confirm_password"]').value;

                        // Validate full name
                        if (!fullname.trim()) {
                            showMessage('error', 'Please enter your full name');
                            return;
                        }

                        // Validate username
                        if (!username.trim()) {
                            showMessage('error', 'Please enter a username');
                            return;
                        }

                        // Validate location
                        if (!location.trim()) {
                            showMessage('error', 'Please enter your location');
                            return;
                        }

                        // Validate password confirmation
                        if (password !== confirmPassword) {
                            showMessage('error', 'Passwords do not match');
                            return;
                        }

                        // Simulate successful signup
                        showMessage('success', 'Account created successfully! Welcome to Go-Shop!');
                        this.reset();
                    } else {
                        // Sign In form validation
                        var name = this.querySelector('input[name="name"]').value;
                        var username = this.querySelector('input[name="username"]').value;
                        var location = this.querySelector('input[name="location"]').value;

                        // Validate name
                        if (!name.trim()) {
                            showMessage('error', 'Please enter your full name');
                            return;
                        }

                        // Validate username
                        if (!username.trim()) {
                            showMessage('error', 'Please enter your username');
                            return;
                        }

                        // Validate location
                        if (!location.trim()) {
                            showMessage('error', 'Please enter your location');
                            return;
                        }

                        // Simulate successful signin
                        showMessage('success', 'Welcome back! You\'re now signed in.');
                        this.reset();
                    }
                });
            });
        })();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>


    <script>
        window.Scroll.start();

        // PAGE LOAD
        window.addEventListener("DOMContentLoaded", (event) => {
            // Only call recipesMarquee if it exists
            if (typeof recipesMarquee === 'function') {
                try {
                    recipesMarquee();
                } catch (error) {
                    console.warn('recipesMarquee function error:', error);
                }
            }
            initializeProfile();
        });

        // Profile page functionality
        function initializeProfile() {
            const tabContents = document.querySelectorAll('.profile-tab');
            const dropdownBtn = document.querySelector('.profile-nav-dropdown-btn');
            const dropdownContent = document.querySelector('.profile-nav-dropdown-content');
            const dropdownText = document.querySelector('.dropdown-text');

            // Desktop tab switching
            const tabButtons = document.querySelectorAll('.profile-nav-btn');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    switchTab(button.getAttribute('data-tab'));
                });
            });

            // Mobile dropdown toggle
            if (dropdownBtn && dropdownContent) {
                dropdownBtn.addEventListener('click', () => {
                    dropdownBtn.classList.toggle('active');
                    dropdownContent.classList.toggle('show');
                    
                    // Lock/unlock body scroll for dropdown
                    if (dropdownContent.classList.contains('show')) {
                        lockBodyScrollForDropdown();
                    } else {
                        unlockBodyScrollForDropdown();
                    }
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', (e) => {
                    if (!dropdownBtn.contains(e.target)) {
                        dropdownBtn.classList.remove('active');
                        dropdownContent.classList.remove('show');
                        unlockBodyScrollForDropdown();
                    }
                });
            }

            // Mobile dropdown item selection
            const dropdownItems = document.querySelectorAll('.profile-nav-dropdown-item');
            dropdownItems.forEach(item => {
                item.addEventListener('click', () => {
                    const tabId = item.getAttribute('data-tab');
                    switchTab(tabId);

                    // Update dropdown button text and close dropdown
                    if (dropdownText) {
                        dropdownText.textContent = item.textContent;
                    }
                    if (dropdownBtn) {
                        dropdownBtn.classList.remove('active');
                    }
                    if (dropdownContent) {
                        dropdownContent.classList.remove('show');
                        unlockBodyScrollForDropdown();
                    }
                });
            });

            // Function to switch tabs
            function switchTab(tabId) {
                // Remove active class from all buttons and tabs
                tabButtons.forEach(btn => btn.classList.remove('active'));
                dropdownItems.forEach(item => item.classList.remove('active'));
                tabContents.forEach(tab => tab.classList.remove('active'));

                // Add active class to corresponding elements - with error checking
                const desktopBtn = document.querySelector(`.profile-nav-btn[data-tab="${tabId}"]`);
                if (desktopBtn) {
                    desktopBtn.classList.add('active');
                }

                const dropdownItem = document.querySelector(`.profile-nav-dropdown-item[data-tab="${tabId}"]`);
                if (dropdownItem) {
                    dropdownItem.classList.add('active');
                }

                const tabContent = document.getElementById(tabId);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            }

            // Handle deep links: #payment or stored deeplink
            try {
                const hash = (window.location.hash || '').replace('#', '');
                if (hash === 'payment') {
                    switchTab('payment');
                } else {
                    const deeplinkRaw = localStorage.getItem('goshop_deeplink');
                    if (deeplinkRaw) {
                        const deeplink = JSON.parse(deeplinkRaw);
                        if (deeplink && deeplink.target === 'profile' && deeplink.tab) {
                            switchTab(deeplink.tab);
                        }
                        localStorage.removeItem('goshop_deeplink');
                    }
                }
            } catch (_) {}

            // Form submissions
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    // Add your form submission logic here
                    console.log('Form submitted:', e.target.id);
                });
            });

        }
    </script>

    <!-- SWIPER -->
    <script>

        const productSwiper = new Swiper(".swiper.product", {
            slidesPerView: "auto",
            speed: 400,
            spaceBetween: "10%",
            touchStartPreventDefault: false,
            a11y: {
                prevSlideMessage: 'Previous slide',
                nextSlideMessage: 'Next slide',
            },
            navigation: {
                nextEl: ".swiper-btn-next",
                prevEl: ".swiper-btn-prev",
            },
            breakpoints: {
                320: {
                    spaceBetween: "18%",
                },
                479: {
                    spaceBetween: "10%"
                },
                680: {
                    spaceBetween: "7%"
                },
                992: {
                    spaceBetween: "10%"
                }
            }
        });

        const recipeSwiper = new Swiper(".swiper.recipe", {
            slidesPerView: "auto",
            speed: 400,
            spaceBetween: "3%",
            touchStartPreventDefault: false,
            loop: true,
            centeredSlides: true,
            a11y: {
                prevSlideMessage: 'Previous slide',
                nextSlideMessage: 'Next slide',
            },
            breakpoints: {
                320: {
                    spaceBetween: "6%",
                },
                992: {
                    spaceBetween: "3%"
                }
            }
        });
    </script>

    <!-- MATTER JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/protonet-jquery.inview/1.1.2/jquery.inview.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.min.js"></script>

    <script>
        $(".tricks-view").one('inview', function (event, isInView) {
            if (isInView) {

                // UPDATE THESE VARIABLES
                let tricksAmount = 6;
                let tricksMin = 1;
                let tricksMax = 1;

                //var w = window.innerWidth / 2;

                let box = document.querySelector('.c-matter');

                var h = window.innerHeight;
                var w = box.offsetWidth;
                const numCircles = tricksAmount;

                let ground;
                let wall1;
                let wall2;

                const content = document.querySelector('.tricks-canvas');

                let elements = [];
                let tricksCircles = [];

                window.addEventListener('resize', (e) => {
                    w = box.offsetWidth;;
                    h = window.innerHeight;
                    engine.render.canvas.width = w;
                    engine.render.canvas.height = h;

                    Matter.Body.setPosition(wall2, Matter.Vector.create(w + 30, h * .5));
                    Matter.Body.setPosition(ground, Matter.Vector.create(w * .5, h + 30));

                });


                var engine = Matter.Engine.create(content, {
                    render: {
                        options: {
                            width: w,
                            height: h,
                            wireframes: false,
                            background: "transparent"
                        }
                    }
                });

                window.engine = engine;

                var mouseConstraint = Matter.MouseConstraint.create(engine, {
                    constraint: {
                        render: {
                            visible: false
                        },
                        stiffness: 0.1
                    }
                });

                let tricksArea = document.querySelector('.tricks-elements');

                class tricksCircle {
                    constructor() {
                        var x = Math.random() * w;
                        var y = Math.random() * - h;
                        var base = w / 30;
                        if (base < 5) base = 5;
                        if (base > 10) base = 10;
                        var multiplier = w / 10;
                        if (multiplier < 50) multiplier = 50;
                        if (multiplier > 100) multiplier = 100;

                        let tricksRandom = (Math.random() * (tricksMin - tricksMax) + tricksMax).toFixed(1);

                        this.radius = base + (tricksRandom * multiplier);
                        this.body = Matter.Bodies.circle(x, y, this.radius,
                            {
                                render: {
                                    fillStyle: 'transparent'
                                }
                            });

                        this.element = document.createElement('div');
                        this.element.className = 'tricks-circle';
                        this.element.style.width = this.radius * 2 + 'px';
                        this.element.style.height = this.radius * 2 + 'px';
                        this.cornea = document.createElement('div');
                        this.element.appendChild(this.cornea)
                        tricksArea.appendChild(this.element);
                    }

                    update() {
                        this.pos = { x: this.body.position.x, y: this.body.position.y }
                        this.element.style.transform = `translate(${this.pos.x - this.radius - 8}px, ${this.pos.y - this.radius - 8}px)`;
                    }

                    lookAt(pos) {
                        let diff = { x: pos.x - this.pos.x, y: pos.y - this.pos.y };
                        let polar = [
                            Math.sqrt(
                                diff.x * diff.x + diff.y * diff.y
                            ),
                            Math.atan2(diff.y, diff.x)
                        ];
                        let dist = polar[0] < this.radius * .5 ? polar[0] : this.radius * .5;
                        this.cornea.style.transform = `translate(${Math.cos(polar[1]) * dist}px, ${Math.sin(polar[1]) * dist}px)`;

                        window.cornea = `translate(${Math.cos(polar[1]) * dist}px, ${Math.sin(polar[1]) * dist}px)`;
                        window.polar = polar
                    }
                }

                let mousepos = { x: 0, y: 0 };

                window.addEventListener('pointermove', (e) => {
                    mousepos = { x: e.clientX, y: e.clientY };
                });

                for (var i = 0; i < numCircles; i++) {
                    tricksCircles.push(new tricksCircle);
                }
                ground = Matter.Bodies.rectangle(w / 2, h + 30, 50000., 60, { isStatic: true });
                wall1 = Matter.Bodies.rectangle(-30, h / 2, 60, h * 2, { isStatic: true });
                wall2 = Matter.Bodies.rectangle(w + 30, h / 2, 60, h * 2, { isStatic: true });
                window.wall2 = wall2;
                elements.push(ground);
                elements.push(wall1);
                elements.push(wall2);

                Matter.World.add(engine.world, tricksCircles.map(trickscircle => trickscircle.body).concat(elements));
                Matter.World.add(engine.world, mouseConstraint);

                Matter.Engine.run(engine);

                Matter.Events.on(engine, "afterUpdate", () => {
                    tricksCircles.forEach((trickscirc) => {
                        trickscirc.update();
                        trickscirc.lookAt(mousepos);
                    });
                });

                mouseConstraint.mouse.element.removeEventListener("mousewheel", mouseConstraint.mouse.mousewheel);
                mouseConstraint.mouse.element.removeEventListener("DOMMouseScroll", mouseConstraint.mouse.mousewheel);

                // End In View
            } else {
            }
        });
    </script>

    <!-- Authentication and Profile Management -->
    <!-- Admin page doesn't need user authentication scripts -->
    <!-- <script src="src/js/auth.js"></script> -->
    <!-- <script src="src/js/profile-icon-updater.js"></script> -->
    <!-- <script src="src/js/member-dashboard.js"></script> -->
    <!-- <script src="src/js/order-notifications.js"></script> -->
    <script>
        // Profile page initialization (disabled for admin page)
        // Admin page has its own authentication system
        // This profile functionality is not needed for admin dashboard

        function updateProfileDisplay(user) {
            // Update profile header
            const profileName = document.querySelector('.profile-name');
            if (profileName) {
                profileName.textContent = `Welcome, ${user.fullname}!`;
            }

            const profileEmail = document.querySelector('.profile-email');
            if (profileEmail) {
                profileEmail.textContent = user.email;
            }

            // Update Personal Info tab
            updatePersonalInfoTab(user);

            // Update Orders tab
            updateOrdersTab(user.orders || []);

            // Sync profile address to default address first
            syncProfileAddressToDefault(user);

            // Update Addresses tab with the synced data
            updateAddressesTab(user.addresses || []);

            // Update Payment Methods tab
            updatePaymentMethodsTab(user.paymentMethods || []);

            // Update Preferences tab
            updatePreferencesTab(user.preferences || {});

            // Update data attributes for our additional features
            const nameElements = document.querySelectorAll('[data-user-name]');
            nameElements.forEach(el => {
                el.textContent = user.fullname || user.username;
            });

            const emailElements = document.querySelectorAll('[data-user-email]');
            emailElements.forEach(el => {
                el.textContent = user.email;
            });

            const locationElements = document.querySelectorAll('[data-user-location]');
            locationElements.forEach(el => {
                el.textContent = user.location;
            });

            const usernameElements = document.querySelectorAll('[data-user-username]');
            usernameElements.forEach(el => {
                el.textContent = user.username;
            });

            const memberSinceElements = document.querySelectorAll('[data-user-member-since]');
            memberSinceElements.forEach(el => {
                const date = new Date(user.createdAt);
                el.textContent = date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long'
                });
            });

            const orderCountElements = document.querySelectorAll('[data-user-order-count]');
            orderCountElements.forEach(el => {
                el.textContent = user.orders ? user.orders.length : 0;
            });

            const favoritesCountElements = document.querySelectorAll('[data-user-favorites-count]');
            favoritesCountElements.forEach(el => {
                el.textContent = user.favorites ? user.favorites.length : 0;
            });

            // Update orders tab
            updateOrdersTab(user.orders || []);

            // Display recent orders in our overlay
            displayRecentOrders(user.orders || []);

            console.log('Profile updated for user:', user.username);
        }

        function updatePersonalInfoTab(user) {
            // Update read-only profile view
            const displayFullName = document.getElementById('display-full-name');
            if (displayFullName) {
                displayFullName.textContent = user.fullname || 'Not specified';
            }

            const displayUsername = document.getElementById('display-username');
            if (displayUsername) {
                displayUsername.textContent = user.username || 'Not specified';
            }

            const displayEmail = document.getElementById('display-email');
            if (displayEmail) {
                displayEmail.textContent = user.email || 'Not specified';
            }

            const displayPhone = document.getElementById('display-phone');
            if (displayPhone) {
                displayPhone.textContent = user.profile?.phone || 'Not specified';
            }

            const displayAddress = document.getElementById('display-address');
            if (displayAddress) {
                displayAddress.textContent = user.location || 'Not specified';
            }

            const displayMemberSince = document.getElementById('display-member-since');
            if (displayMemberSince) {
                const date = new Date(user.createdAt);
                displayMemberSince.textContent = date.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long'
                });
            }

            const displayOrdersCount = document.getElementById('display-orders-count');
            if (displayOrdersCount) {
                displayOrdersCount.textContent = user.orders ? user.orders.length : 0;
            }

            // Update form fields in edit mode (when form is shown)
            updateEditFormFields(user);
        }

        function syncProfileAddressToDefault(user) {
            if (!user.location) return; // No profile address to sync

            // Ensure user has addresses array
            if (!user.addresses) user.addresses = [];

            // Check if there's already a default address that matches the profile location
            const currentDefault = user.addresses.find(addr => addr.isDefault);

            if (!currentDefault) {
                // No default address exists, create one from profile
                console.log('No default address found, creating from profile location:', user.location);
                createDefaultAddressFromProfile(user);
            } else if (currentDefault.fullAddress !== user.location) {
                // Default address exists but doesn't match profile, update it
                console.log('Default address mismatch, updating from profile:', user.location);
                updateDefaultAddressFromProfile(user, currentDefault);
            }
        }

        function createDefaultAddressFromProfile(user) {
            const profileAddress = {
                id: 'profile-default-' + Date.now(),
                type: 'home',
                name: 'Home (From Profile)',
                fullAddress: user.location,
                isDefault: true,
                createdAt: new Date().toISOString()
            };

            // Parse location for better display if possible
            const locationParts = user.location.split(',').map(part => part.trim());
            if (locationParts.length >= 2) {
                profileAddress.city = locationParts[0];
                profileAddress.state = locationParts[1];
                if (locationParts.length >= 3) {
                    profileAddress.country = locationParts[2];
                }
            }

            // Add to the beginning of addresses array
            user.addresses.unshift(profileAddress);

            // Save to backend using direct address update to avoid recursion
            try {
                const userIndex = window.GoShopAuth.users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    window.GoShopAuth.users[userIndex].addresses = user.addresses;
                    window.GoShopAuth.saveUsers(window.GoShopAuth.users);
                    window.GoShopAuth.currentUser.addresses = user.addresses;
                    window.GoShopAuth.setCurrentUser(window.GoShopAuth.currentUser);
                    console.log('Created default address from profile successfully');
                }
            } catch (error) {
                console.error('Error creating default address:', error);
            }
        }

        function updateDefaultAddressFromProfile(user, defaultAddress) {
            // Update the existing default address with profile location
            defaultAddress.fullAddress = user.location;
            defaultAddress.name = defaultAddress.name || 'Home (From Profile)';

            // Parse location for better display if possible
            const locationParts = user.location.split(',').map(part => part.trim());
            if (locationParts.length >= 2) {
                defaultAddress.city = locationParts[0];
                defaultAddress.state = locationParts[1];
                if (locationParts.length >= 3) {
                    defaultAddress.country = locationParts[2];
                }
            }

            // Save to backend using direct address update to avoid recursion
            try {
                const userIndex = window.GoShopAuth.users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    window.GoShopAuth.users[userIndex].addresses = user.addresses;
                    window.GoShopAuth.saveUsers(window.GoShopAuth.users);
                    window.GoShopAuth.currentUser.addresses = user.addresses;
                    window.GoShopAuth.setCurrentUser(window.GoShopAuth.currentUser);
                    console.log('Updated default address from profile successfully');
                }
            } catch (error) {
                console.error('Error updating default address:', error);
            }
        }

        function updateEditFormFields(user) {
            const firstNameInput = document.querySelector('#profile-edit-form input[placeholder="Enter your first name"]');
            if (firstNameInput) {
                firstNameInput.value = user.profile?.firstName || user.fullname?.split(' ')[0] || '';
            }

            const lastNameInput = document.querySelector('#profile-edit-form input[placeholder="Enter your last name"]');
            if (lastNameInput) {
                lastNameInput.value = user.profile?.lastName || user.fullname?.split(' ').slice(1).join(' ') || '';
            }

            const emailInput = document.querySelector('#profile-edit-form input[placeholder="Enter your email"]');
            if (emailInput) {
                emailInput.value = user.email || '';
            }

            const phoneInput = document.querySelector('#profile-edit-form input[placeholder="Enter your phone number"]');
            if (phoneInput) {
                phoneInput.value = user.profile?.phone || '';
            }

            const addressInput = document.querySelector('#profile-edit-form input[placeholder="Enter your address"]');
            if (addressInput) {
                addressInput.value = user.location || '';
            }
        }

        function updateOrdersTab(orders) {
            const ordersContainer = document.querySelector('.orders-list');
            if (!ordersContainer) return;

            if (orders.length === 0) {
                ordersContainer.innerHTML = `
                    <div class="empty-state">
                        <h3>No orders yet</h3>
                        <p>Start shopping to see your orders here!</p>
                        <a href="shop.html" class="shop-now-btn">Shop Now</a>
                    </div>
                `;
                return;
            }

            ordersContainer.innerHTML = orders.map(order => `
                <div class="order-card">
                    <div class="order-header">
                        <div class="order-info">
                            <h4>Order #${order.id}</h4>
                            <span class="order-date">${new Date(order.createdAt).toLocaleDateString()}</span>
                        </div>
                        <div class="order-status ${order.status}">
                            ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                        </div>
                    </div>
                    ${order.items ? `
                        <div class="order-items">
                            ${order.items.map(item => `
                                <div class="order-item">
                                    <span class="item-name">${item.name}</span>
                                    <span class="item-details">${item.quantity}x $${item.price.toFixed(2)}</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                    ${order.total ? `
                        <div class="order-total">
                            <strong>Total: $${order.total.toFixed(2)}</strong>
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function ensureOneDefaultAddress(addresses) {
            if (!addresses || addresses.length === 0) return addresses;

            const defaultAddresses = addresses.filter(a => a.isDefault);

            if (defaultAddresses.length === 0) {
                // No default address, make the first one default
                addresses[0].isDefault = true;
                console.log('No default address found, setting first address as default:', addresses[0].id);
            } else if (defaultAddresses.length > 1) {
                // Multiple default addresses, keep only the first one as default
                addresses.forEach((addr, index) => {
                    addr.isDefault = (index === addresses.findIndex(a => a.isDefault));
                });
                console.log('Multiple default addresses found, fixed to single default');
            }

            return addresses;
        }

        function updateAddressesTab(addresses) {
            const addressesContainer = document.querySelector('.addresses-list');
            if (!addressesContainer) return;

            if (addresses.length === 0) {
                addressesContainer.innerHTML = `
                    <div class="empty-state">
                        <h3>No saved addresses</h3>
                        <p>Add your first address to make checkout faster!</p>
                    </div>
                `;
                return;
            }

            // Ensure data integrity: exactly one default address
            addresses = ensureOneDefaultAddress(addresses);
            console.log('Rendering addresses:', addresses.map(a => ({ id: a.id, name: a.name, isDefault: a.isDefault })));

            addressesContainer.innerHTML = addresses.map(address => {
                // Get first line of address for compact display
                const firstLine = address.street || address.fullAddress.split(',')[0] || address.fullAddress;

                return `
                <div class="address-item ${address.isDefault ? 'default' : ''}" data-address-id="${address.id}">
                    <div class="address-content">
                        <!-- Top line: Name + Default badge -->
                        <div class="address-top">
                            <span class="address-name">${address.name || address.type}${address.isDefault ? ' (Default)' : ''}</span>
                            <div class="dropdown-container">
                                <button class="options-btn" data-address-id="${address.id}">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="12" r="1" fill="currentColor"/>
                                        <circle cx="12" cy="5" r="1" fill="currentColor"/>
                                        <circle cx="12" cy="19" r="1" fill="currentColor"/>
                                    </svg>
                                </button>
                                <div class="dropdown-menu" data-address-id="${address.id}">
                                    ${!address.isDefault ? `
                                        <button class="dropdown-item set-default-btn" data-address-id="${address.id}">
                                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            Set as Default
                                        </button>
                                    ` : ''}
                                    <button class="dropdown-item edit-address-btn" data-address-id="${address.id}">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M16 3L21 8L8 21H3V16L16 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                        Edit Address
                                    </button>
                                    ${!address.isDefault ? `
                                        <button class="dropdown-item delete-address-btn" data-address-id="${address.id}">
                                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                            Delete Address
                                        </button>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Second line: Address -->
                        <div class="address-bottom">
                            <span class="address-text">${firstLine}</span>
                        </div>
                    </div>
                </div>
            `}).join('');

            // Add event listeners for address actions
            setupAddressEventListeners();
        }

        function updatePaymentMethodsTab(paymentMethods) {
            const paymentContainer = document.querySelector('.payment-methods-list');
            if (!paymentContainer) return;

            if (paymentMethods.length === 0) {
                paymentContainer.innerHTML = `
                    <div class="empty-state">
                        <h3>No payment methods</h3>
                        <p>Add a payment method to make checkout easier!</p>
                        <button class="c-btn is-large add-payment-btn">
                            <div class="c-btn-bg"></div>
                            <div class="c-btn-inner">
                                <div class="c-btn-txt">
                                    <div class="c-btn-label">Add Payment Method</div>
                                </div>
                            </div>
                        </button>
                    </div>
                `;
            } else {
                paymentContainer.innerHTML = paymentMethods.map(payment => {
                    let paymentIcon = '';
                    let paymentDetails = '';

                    if (payment.type === 'card') {
                        paymentIcon = '<div style="width: 40px; height: 40px; background: #f8f9fa; border-radius: 0.5em; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--clr-charcoal-01); font-size: 0.7em;">CARD</div>';
                        paymentDetails = `
                            <div class="card-type">${payment.cardType || 'Card'}</div>
                            <div class="card-number">**** **** **** ${payment.lastFour}</div>
                            <div class="card-expiry">Expires ${payment.expiryMonth}/${payment.expiryYear}</div>
                        `;
                    } else if (payment.type === 'momo') {
                        paymentIcon = '<div style="width: 40px; height: 40px; background: #f8f9fa; border-radius: 0.5em; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--clr-charcoal-01); font-size: 0.7em;">MOMO</div>';
                        paymentDetails = `
                            <div class="card-type">${payment.service ? payment.service.charAt(0).toUpperCase() + payment.service.slice(1) : 'Mobile Money'}</div>
                            <div class="card-number">${payment.accountName}</div>
                            <div class="card-expiry">${payment.phoneNumber}</div>
                        `;
                    } else if (payment.type === 'cash') {
                        paymentIcon = '<div style="width: 40px; height: 40px; background: #f8f9fa; border-radius: 0.5em; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--clr-charcoal-01); font-size: 0.7em;">CASH</div>';
                        paymentDetails = `
                            <div class="card-type">Cash Payment</div>
                            <div class="card-number">Pay on delivery or pickup</div>
                            <div class="card-expiry">No additional fees</div>
                        `;
                    }

                    return `
                        <div class="payment-method-item" data-payment-id="${payment.id}" style="display: flex; align-items: center; gap: 1em; padding: 1.5em; border: 1px solid rgba(0, 0, 0, 0.1); border-radius: 10px; margin-bottom: 1em;">
                            ${paymentIcon}
                            <div class="card-info" style="flex-grow: 1;">
                                ${paymentDetails}
                                ${payment.isDefault ? '<span class="default-badge" style="background: var(--clr-yellow-01); color: var(--clr-charcoal-01); padding: 0.25em 0.5em; border-radius: 12px; font-size: 0.8em; font-weight: 600; margin-top: 0.5em; display: inline-block;">Default</span>' : ''}
                            </div>
                            <div class="payment-actions" style="display: flex; gap: 0.5em;">
                                ${payment.type !== 'cash' ? `
                                    <button class="c-btn is-secondary edit-payment-btn" data-payment-id="${payment.id}">
                                        <div class="c-btn-inner">
                                            <div class="c-btn-txt">
                                                <div class="c-btn-label">Edit</div>
                                            </div>
                                        </div>
                                    </button>
                                ` : ''}
                                <button class="c-btn is-secondary delete-payment-btn" data-payment-id="${payment.id}">
                                    <div class="c-btn-inner">
                                        <div class="c-btn-txt">
                                            <div class="c-btn-label">Delete</div>
                                        </div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    `;
                }).join('') + `
                    <button class="c-btn is-large add-payment-btn">
                        <div class="c-btn-bg"></div>
                        <div class="c-btn-inner">
                            <div class="c-btn-txt">
                                <div class="c-btn-label">Add New Payment Method</div>
                            </div>
                        </div>
                    </button>
                `;
            }

            // Add event listeners for payment method actions
            setupPaymentEventListeners();
        }

        function updatePreferencesTab(preferences) {
            // Update notification preferences
            const orderUpdatesCheckbox = document.querySelector('input[type="checkbox"]');
            if (orderUpdatesCheckbox && preferences.notifications) {
                const checkboxes = document.querySelectorAll('.preferences-form input[type="checkbox"]');
                if (checkboxes.length >= 3) {
                    checkboxes[0].checked = preferences.notifications.orderUpdates || false;
                    checkboxes[1].checked = preferences.notifications.promotionalEmails || false;
                    checkboxes[2].checked = preferences.notifications.newsletter || false;
                }
            }

            // Update shopping preferences
            if (preferences.shopping) {
                const shoppingCheckboxes = document.querySelectorAll('.preferences-form .checkbox-group:last-child input[type="checkbox"]');
                if (shoppingCheckboxes.length >= 2) {
                    shoppingCheckboxes[0].checked = preferences.shopping.savePaymentInfo || false;
                    shoppingCheckboxes[1].checked = preferences.shopping.rememberAddress || false;
                }
            }
        }

        function displayRecentOrders(orders) {
            const orderContainer = document.querySelector('[data-recent-orders]');
            if (!orderContainer) return;

            if (orders.length === 0) {
                orderContainer.innerHTML = '<p>No orders yet. <a href="shop.html">Start shopping!</a></p>';
                return;
            }

            const recentOrders = orders.slice(0, 5); // Show last 5 orders
            orderContainer.innerHTML = recentOrders.map(order => `
                <div class="order-item" style="padding: 1em; border: 1px solid #e0e0e0; margin-bottom: 1em; border-radius: 0.5em;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5em;">
                        <strong>Order #${order.id}</strong>
                        <span class="order-status" style="padding: 0.25em 0.5em; border-radius: 0.25em; font-size: 0.875em; ${getOrderStatusStyle(order.status)}">${order.status}</span>
                    </div>
                    <div style="font-size: 0.875em; color: #666;">
                        ${new Date(order.createdAt).toLocaleDateString()}
                    </div>
                    ${order.items ? `
                        <div style="margin-top: 0.5em;">
                            ${order.items.slice(0, 2).map(item => `<div style="font-size: 0.875em;">${item.quantity}x ${item.name}</div>`).join('')}
                            ${order.items.length > 2 ? `<div style="font-size: 0.875em; color: #666;">+${order.items.length - 2} more items</div>` : ''}
                        </div>
                    ` : ''}
                    ${order.total ? `<div style="margin-top: 0.5em; font-weight: bold;">Total: $${order.total.toFixed(2)}</div>` : ''}
                </div>
            `).join('');
        }

        function getOrderStatusStyle(status) {
            switch (status) {
                case 'delivered':
                    return 'background-color: #d4edda; color: #155724;';
                case 'pending':
                    return 'background-color: #fff3cd; color: #856404;';
                case 'processing':
                    return 'background-color: #cce7ff; color: #004085;';
                case 'cancelled':
                    return 'background-color: #f8d7da; color: #721c24;';
                default:
                    return 'background-color: #f8f9fa; color: #495057;';
            }
        }

        function setupProfileEventListeners() {
            // Logout button
            const logoutBtns = document.querySelectorAll('[data-logout]');
            logoutBtns.forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    if (confirm('Are you sure you want to logout?')) {
                        window.GoShopAuth.logout();
                    }
                });
            });

            // Edit profile button
            const editProfileBtns = document.querySelectorAll('[data-edit-profile]');
            editProfileBtns.forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    showEditProfileModal();
                });
            });

            // Profile form save functionality
            const profileForm = document.querySelector('.profile-form');
            if (profileForm) {
                profileForm.addEventListener('submit', function (e) {
                    e.preventDefault();
                    saveProfileChanges();
                });
            }

            // Add logout to profile navigation if it doesn't exist
            addLogoutToNav();

            // Setup preferences form submission
            setupPreferencesForm();

            // Setup profile edit toggle
            setupProfileEditToggle();

            // Setup initial address event listeners
            setupAddressEventListeners();
        }

        function setupProfileEditToggle() {
            // Edit Profile button
            const editProfileBtn = document.querySelector('.edit-profile-trigger');
            if (editProfileBtn) {
                editProfileBtn.addEventListener('click', function () {
                    toggleProfileEditMode(true);
                });
            }

            // Cancel Edit button
            const cancelEditBtn = document.querySelector('.cancel-edit-btn');
            if (cancelEditBtn) {
                cancelEditBtn.addEventListener('click', function () {
                    toggleProfileEditMode(false);
                });
            }

            // Profile form submission in edit mode
            const editForm = document.querySelector('#profile-edit-form .profile-form');
            if (editForm) {
                editForm.addEventListener('submit', function (e) {
                    e.preventDefault();
                    saveProfileChangesFromEditForm();
                });
            }
        }

        function toggleProfileEditMode(editMode) {
            const profileView = document.getElementById('profile-view');
            const profileEditForm = document.getElementById('profile-edit-form');

            if (editMode) {
                // Show edit form, hide read-only view
                if (profileView) profileView.style.display = 'none';
                if (profileEditForm) profileEditForm.style.display = 'block';

                // Update form fields with current user data
                const user = window.GoShopAuth.getProfile();
                updateEditFormFields(user);
            } else {
                // Show read-only view, hide edit form
                if (profileView) profileView.style.display = 'block';
                if (profileEditForm) profileEditForm.style.display = 'none';
            }
        }

        function saveProfileChangesFromEditForm() {
            const editForm = document.querySelector('#profile-edit-form .profile-form');
            if (!editForm) return;

            const formData = new FormData(editForm);

            // Get form values
            const firstName = editForm.querySelector('input[placeholder="Enter your first name"]')?.value || '';
            const lastName = editForm.querySelector('input[placeholder="Enter your last name"]')?.value || '';
            const email = editForm.querySelector('input[placeholder="Enter your email"]')?.value || '';
            const phone = editForm.querySelector('input[placeholder="Enter your phone number"]')?.value || '';
            const address = editForm.querySelector('input[placeholder="Enter your address"]')?.value || '';

            // Prepare updates
            const updates = {
                fullname: `${firstName} ${lastName}`.trim(),
                email: email,
                location: address,
                profile: {
                    firstName: firstName,
                    lastName: lastName,
                    phone: phone
                }
            };

            try {
                const updatedUser = window.GoShopAuth.updateProfile(updates);

                // If address was updated, sync to default address and refresh addresses tab
                if (updates.location) {
                    syncProfileAddressToDefault(updatedUser);
                    updateAddressesTab(updatedUser.addresses || []);
                }

                updatePersonalInfoTab(updatedUser);
                toggleProfileEditMode(false);
                showNotification('Profile updated successfully!', 'success');
            } catch (error) {
                showNotification('Error updating profile: ' + error.message, 'error');
            }
        }

        function setupAddressEventListeners() {
            // Add address button (only set up once since it's static)
            const addAddressBtn = document.querySelector('.add-address-btn');
            console.log('Setting up address listeners. Add button found:', !!addAddressBtn);

            if (addAddressBtn && !addAddressBtn.hasAttribute('data-listener-added')) {
                addAddressBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Add address button clicked!');
                    showAddAddressModal();
                });
                addAddressBtn.setAttribute('data-listener-added', 'true');
                console.log('Add address listener attached successfully');
            }

            // Options dropdown buttons
            document.querySelectorAll('.options-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const addressId = this.getAttribute('data-address-id');
                    const dropdown = document.querySelector(`.dropdown-menu[data-address-id="${addressId}"]`);

                    // Close all other dropdowns
                    document.querySelectorAll('.dropdown-menu.show').forEach(menu => {
                        if (menu !== dropdown) {
                            menu.classList.remove('show');
                        }
                    });

                    // Toggle current dropdown
                    dropdown.classList.toggle('show');
                });
            });

            // Set as default buttons (these are dynamic, so always re-setup)
            document.querySelectorAll('.set-default-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const addressId = this.getAttribute('data-address-id');
                    setDefaultAddress(addressId);
                    closeAllDropdowns();
                });
            });

            // Edit address buttons (these are dynamic, so always re-setup)
            document.querySelectorAll('.edit-address-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const addressId = this.getAttribute('data-address-id');
                    showEditAddressModal(addressId);
                    closeAllDropdowns();
                });
            });

            // Delete address buttons (these are dynamic, so always re-setup)
            document.querySelectorAll('.delete-address-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const addressId = this.getAttribute('data-address-id');
                    console.log('Delete button clicked for address ID:', addressId);

                    // Get current user data to check if this is a default address
                    const user = window.GoShopAuth.getProfile();
                    const address = user.addresses?.find(a => a.id === addressId);
                    console.log('Address details:', address);

                    if (address && address.isDefault) {
                        showNotification('Cannot delete the default address. Please set another address as default first.', 'error');
                        closeAllDropdowns();
                        return;
                    }

                    if (confirm('Are you sure you want to delete this address?')) {
                        deleteAddress(addressId);
                    }
                    closeAllDropdowns();
                });
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', function (e) {
                if (!e.target.closest('.dropdown-container')) {
                    closeAllDropdowns();
                }
            });
        }

        function closeAllDropdowns() {
            document.querySelectorAll('.dropdown-menu.show').forEach(menu => {
                menu.classList.remove('show');
            });
        }

        function setupPaymentEventListeners() {
            // Add payment method button
            document.querySelectorAll('.add-payment-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    showAddPaymentModal();
                });
            });

            // Delete payment method buttons
            document.querySelectorAll('.delete-payment-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const paymentId = this.getAttribute('data-payment-id');
                    if (confirm('Are you sure you want to delete this payment method?')) {
                        deletePaymentMethod(paymentId);
                    }
                });
            });
        }

        function setupPreferencesForm() {
            const preferencesForm = document.querySelector('.preferences-form');
            if (preferencesForm) {
                preferencesForm.addEventListener('submit', function (e) {
                    e.preventDefault();
                    savePreferences();
                });
            }
        }

        function savePreferences() {
            const checkboxes = document.querySelectorAll('.preferences-form input[type="checkbox"]');

            try {
                const preferences = {
                    notifications: {
                        orderUpdates: checkboxes[0]?.checked || false,
                        promotionalEmails: checkboxes[1]?.checked || false,
                        newsletter: checkboxes[2]?.checked || false
                    },
                    shopping: {
                        savePaymentInfo: checkboxes[3]?.checked || false,
                        rememberAddress: checkboxes[4]?.checked || false
                    }
                };

                window.GoShopAuth.updatePreferences(preferences);
                showNotification('Preferences saved successfully!', 'success');
            } catch (error) {
                showNotification('Error saving preferences: ' + error.message, 'error');
            }
        }

        function setDefaultAddress(addressId) {
            try {
                window.GoShopAuth.setDefaultAddress(addressId);
                const user = window.GoShopAuth.getProfile();

                // Update both addresses tab and profile display
                updateAddressesTab(user.addresses || []);
                updatePersonalInfoTab(user);

                showNotification('Default address updated successfully!', 'success');
            } catch (error) {
                showNotification('Error: ' + error.message, 'error');
            }
        }

        function deleteAddress(addressId) {
            try {
                // Double-check that this isn't a default address on the frontend
                const user = window.GoShopAuth.getProfile();
                const addressToDelete = user.addresses?.find(a => a.id === addressId);

                if (addressToDelete && addressToDelete.isDefault) {
                    showNotification('Cannot delete the default address. Please set another address as default first.', 'error');
                    return;
                }

                window.GoShopAuth.deleteAddress(addressId);
                const updatedUser = window.GoShopAuth.getProfile();
                updateAddressesTab(updatedUser.addresses || []);
                showNotification('Address deleted successfully!', 'success');
            } catch (error) {
                showNotification('Error deleting address: ' + error.message, 'error');
            }
        }

        function deletePaymentMethod(paymentId) {
            try {
                window.GoShopAuth.deletePaymentMethod(paymentId);
                const user = window.GoShopAuth.getProfile();
                updatePaymentMethodsTab(user.paymentMethods || []);
                showNotification('Payment method deleted successfully!', 'success');
            } catch (error) {
                showNotification('Error deleting payment method: ' + error.message, 'error');
            }
        }

        function showAddAddressModal() {
            console.log('showAddAddressModal function called');
            const modalHTML = `
                <div id="add-address-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; align-items: center; justify-content: center;">
                    <div class="modal-content" style="background: white; padding: 2em; border-radius: 1em; max-width: 500px; width: 90%;">
                        <h3 style="margin-top: 0;">Add New Address</h3>
                        <form id="add-address-form">
                            <div style="margin-bottom: 1em;">
                                <label style="display: block; margin-bottom: 0.5em;">Address Name:</label>
                                <input type="text" name="name" placeholder="e.g. Home, Work" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                            </div>
                            <div style="margin-bottom: 1em;">
                                <label style="display: block; margin-bottom: 0.5em;">Street Address:</label>
                                <input type="text" name="street" placeholder="123 Main Street" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                <div>
                                    <label style="display: block; margin-bottom: 0.5em;">City:</label>
                                    <input type="text" name="city" placeholder="Accra" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5em;">State/Region:</label>
                                    <input type="text" name="state" placeholder="Greater Accra" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                <div>
                                    <label style="display: block; margin-bottom: 0.5em;">ZIP Code:</label>
                                    <input type="text" name="zipCode" placeholder="00233" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5em;">Country:</label>
                                    <input type="text" name="country" placeholder="Ghana" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                                </div>
                            </div>
                            <div style="margin-bottom: 1em;">
                                <label style="display: flex; align-items: center; gap: 0.5em;">
                                    <input type="checkbox" name="isDefault">
                                    <span>Set as default address</span>
                                </label>
                            </div>
                            <div style="display: flex; gap: 1em; justify-content: flex-end;">
                                <button type="button" onclick="closeAddressModal()" style="padding: 0.5em 1em; border: 1px solid #ddd; background: white; border-radius: 0.25em; cursor: pointer;">Cancel</button>
                                <button type="submit" style="padding: 0.5em 1em; background: var(--clr-yellow-01); border: none; border-radius: 0.25em; cursor: pointer; font-weight: bold;">Add Address</button>
                            </div>
                        </form>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHTML);
            lockBodyScroll();

            document.getElementById('add-address-form').addEventListener('submit', function (e) {
                e.preventDefault();
                const formData = new FormData(this);

                try {
                    const addressData = {
                        name: formData.get('name'),
                        street: formData.get('street'),
                        city: formData.get('city'),
                        state: formData.get('state'),
                        zipCode: formData.get('zipCode'),
                        country: formData.get('country'),
                        fullAddress: `${formData.get('street')}, ${formData.get('city')}, ${formData.get('state')}, ${formData.get('country')}`,
                        isDefault: formData.get('isDefault') === 'on',
                        type: 'custom'
                    };

                    window.GoShopAuth.addAddress(addressData);
                    const user = window.GoShopAuth.getProfile();

                    // Update both addresses tab and profile display if this is set as default
                    updateAddressesTab(user.addresses || []);
                    if (addressData.isDefault) {
                        updatePersonalInfoTab(user);
                    }

                    closeAddressModal();
                    showNotification('Address added successfully!', 'success');
                } catch (error) {
                    showNotification('Error adding address: ' + error.message, 'error');
                }
            });
        }

        function showAddPaymentModal() {
            const modalHTML = `
                <div id="add-payment-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; align-items: center; justify-content: center;">
                    <div class="modal-content" style="background: white; padding: 2em; border-radius: 1em; max-width: 500px; width: 90%;">
                        
                        <!-- Step 1: Payment Type Selection -->
                        <div id="payment-type-step">
                            <h3 style="margin-top: 0; margin-bottom: 1.5em; text-align: center;">Choose Payment Method</h3>
                            <div style="display: grid; gap: 1em; margin-bottom: 2em;">
                                <button type="button" class="payment-type-option" data-type="card" style="
                                    display: flex; 
                                    align-items: center; 
                                    gap: 1em; 
                                    padding: 1.5em; 
                                    border: 2px solid #e5e5e5; 
                                    border-radius: 0.75em; 
                                    background: white; 
                                    cursor: pointer; 
                                    transition: all 0.2s ease;
                                    text-align: left;
                                " onmouseover="this.style.borderColor='var(--clr-yellow-01)'; this.style.backgroundColor='rgba(244, 242, 230, 0.3)'" onmouseout="this.style.borderColor='#e5e5e5'; this.style.backgroundColor='white'">
                                    <div style="width: 40px; height: 40px; background: #f8f9fa; border-radius: 0.5em; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--clr-charcoal-01);">CARD</div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--clr-charcoal-01); margin-bottom: 0.25em;">Credit/Debit Card</div>
                                        <div style="color: #666; font-size: 0.9em;">Visa, Mastercard, American Express</div>
                                    </div>
                                </button>
                                
                                <button type="button" class="payment-type-option" data-type="momo" style="
                                    display: flex; 
                                    align-items: center; 
                                    gap: 1em; 
                                    padding: 1.5em; 
                                    border: 2px solid #e5e5e5; 
                                    border-radius: 0.75em; 
                                    background: white; 
                                    cursor: pointer; 
                                    transition: all 0.2s ease;
                                    text-align: left;
                                " onmouseover="this.style.borderColor='var(--clr-yellow-01)'; this.style.backgroundColor='rgba(244, 242, 230, 0.3)'" onmouseout="this.style.borderColor='#e5e5e5'; this.style.backgroundColor='white'">
                                    <div style="width: 40px; height: 40px; background: #f8f9fa; border-radius: 0.5em; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--clr-charcoal-01); font-size: 0.7em;">MOMO</div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--clr-charcoal-01); margin-bottom: 0.25em;">Mobile Money</div>
                                        <div style="color: #666; font-size: 0.9em;">MTN, Vodafone, AirtelTigo</div>
                                    </div>
                                </button>
                                
                                <button type="button" class="payment-type-option" data-type="cash" style="
                                    display: flex; 
                                    align-items: center; 
                                    gap: 1em; 
                                    padding: 1.5em; 
                                    border: 2px solid #e5e5e5; 
                                    border-radius: 0.75em; 
                                    background: white; 
                                    cursor: pointer; 
                                    transition: all 0.2s ease;
                                    text-align: left;
                                " onmouseover="this.style.borderColor='var(--clr-yellow-01)'; this.style.backgroundColor='rgba(244, 242, 230, 0.3)'" onmouseout="this.style.borderColor='#e5e5e5'; this.style.backgroundColor='white'">
                                    <div style="width: 40px; height: 40px; background: #f8f9fa; border-radius: 0.5em; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--clr-charcoal-01); font-size: 0.7em;">CASH</div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--clr-charcoal-01); margin-bottom: 0.25em;">Cash Payment</div>
                                        <div style="color: #666; font-size: 0.9em;">Pay on delivery or pickup</div>
                                    </div>
                                </button>
                            </div>
                            <div style="text-align: center;">
                                <button type="button" onclick="closePaymentModal()" style="padding: 0.75em 2em; border: 1px solid #ddd; background: white; border-radius: 0.5em; cursor: pointer; color: #666;">Cancel</button>
                            </div>
                        </div>

                        <!-- Step 2: Payment Details -->
                        <div id="payment-details-step" style="display: none;">
                            <div style="display: flex; align-items: center; gap: 1em; margin-bottom: 1.5em;">
                                <button type="button" id="back-btn" style="background: none; border: none; color: #666; cursor: pointer; font-size: 1.5em;" title="Back">â†</button>
                                <h3 style="margin: 0; flex-grow: 1; text-align: center;" id="step-title">Payment Details</h3>
                                <div style="width: 1.5em;"></div> <!-- Spacer for centering -->
                            </div>
                            
                            <form id="add-payment-form">
                                <!-- Card Fields -->
                                <div id="card-fields" style="display: none;">
                                    <div style="margin-bottom: 1em;">
                                        <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">Card Number:</label>
                                        <input type="text" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" style="width: 100%; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                    </div>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1em; margin-bottom: 1em;">
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">Expiry Month:</label>
                                            <select name="expiryMonth" style="width: 100%; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                                <option value="">Month</option>
                                                ${Array.from({ length: 12 }, (_, i) => `<option value="${String(i + 1).padStart(2, '0')}">${String(i + 1).padStart(2, '0')}</option>`).join('')}
                                            </select>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">Expiry Year:</label>
                                            <select name="expiryYear" style="width: 100%; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                                <option value="">Year</option>
                                                ${Array.from({ length: 10 }, (_, i) => {
                const year = new Date().getFullYear() + i;
                const shortYear = String(year).slice(-2);
                return `<option value="${shortYear}">${year}</option>`;
            }).join('')}
                                            </select>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 1.5em;">
                                        <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">CVV:</label>
                                        <input type="text" name="cvv" placeholder="123" maxlength="4" style="width: 120px; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                    </div>
                                </div>

                                <!-- Mobile Money Fields -->
                                <div id="momo-fields" style="display: none;">
                                    <div style="margin-bottom: 1em;">
                                        <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">Mobile Money Service:</label>
                                        <select name="momoService" style="width: 100%; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                            <option value="">Select Service</option>
                                            <option value="mtn">MTN Mobile Money</option>
                                            <option value="vodafone">Vodafone Cash</option>
                                            <option value="airtel">AirtelTigo Money</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                    <div style="margin-bottom: 1em;">
                                        <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">Account Name:</label>
                                        <input type="text" name="momoName" placeholder="Account holder name" style="width: 100%; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                    </div>
                                    <div style="margin-bottom: 1.5em;">
                                        <label style="display: block; margin-bottom: 0.5em; font-weight: 600;">Mobile Number:</label>
                                        <input type="tel" name="momoNumber" placeholder="0XX XXX XXXX" style="width: 100%; padding: 0.75em; border: 2px solid #e5e5e5; border-radius: 0.5em; font-size: 1em;" required>
                                    </div>
                                </div>

                                <!-- Cash Fields -->
                                <div id="cash-fields" style="display: none;">
                                    <div style="margin-bottom: 1.5em; padding: 1.5em; background: #f8f9fa; border-radius: 0.75em; border-left: 4px solid var(--clr-yellow-01); text-align: center;">
                                        <div style="width: 60px; height: 60px; background: #e9ecef; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1em auto; font-weight: bold; color: var(--clr-charcoal-01);">CASH</div>
                                        <h4 style="margin: 0 0 0.5em 0; color: var(--clr-charcoal-01);">Cash Payment</h4>
                                        <p style="margin: 0; color: #6c757d; font-size: 0.95em; line-height: 1.4;">
                                            You can pay with cash upon delivery or at pickup.<br>
                                            No additional information required.
                                        </p>
                                    </div>
                                </div>

                                <div style="margin-bottom: 2em;">
                                    <label style="display: flex; align-items: center; gap: 0.75em; cursor: pointer; padding: 0.5em; border-radius: 0.5em; transition: background-color 0.2s ease;" onmouseover="this.style.backgroundColor='rgba(244, 242, 230, 0.3)'" onmouseout="this.style.backgroundColor='transparent'">
                                        <input type="checkbox" name="isDefault" style="transform: scale(1.2);">
                                        <span style="font-weight: 600; color: var(--clr-charcoal-01);">Set as default payment method</span>
                                    </label>
                                </div>
                                
                                <div style="display: flex; gap: 1em; justify-content: flex-end;">
                                    <button type="button" onclick="closePaymentModal()" style="padding: 0.75em 1.5em; border: 2px solid #ddd; background: white; border-radius: 0.5em; cursor: pointer; font-weight: 600; color: #666;">Cancel</button>
                                    <button type="submit" style="padding: 0.75em 2em; background: var(--clr-yellow-01); border: none; border-radius: 0.5em; cursor: pointer; font-weight: bold; color: var(--clr-charcoal-01);">Add Payment Method</button>
                                </div>
                                
                                <input type="hidden" name="paymentType" id="selected-payment-type">
                            </form>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHTML);
            lockBodyScroll();

            // Handle payment type selection
            document.querySelectorAll('.payment-type-option').forEach(btn => {
                btn.addEventListener('click', function () {
                    const selectedType = this.getAttribute('data-type');
                    showPaymentDetailsStep(selectedType);
                });
            });

            // Handle back button
            document.getElementById('back-btn').addEventListener('click', function () {
                showPaymentTypeStep();
            });

            function showPaymentTypeStep() {
                document.getElementById('payment-type-step').style.display = 'block';
                document.getElementById('payment-details-step').style.display = 'none';
            }

            function setFieldState(selector, enabled, required) {
                const el = document.querySelector(selector);
                if (!el) return;
                el.disabled = !enabled;
                if (required) {
                    el.setAttribute('required', '');
                } else {
                    el.removeAttribute('required');
                }
            }

            function showPaymentDetailsStep(paymentType) {
                document.getElementById('payment-type-step').style.display = 'none';
                document.getElementById('payment-details-step').style.display = 'block';

                // Update hidden input
                document.getElementById('selected-payment-type').value = paymentType;

                // Show relevant fields and update title
                const cardFields = document.getElementById('card-fields');
                const momoFields = document.getElementById('momo-fields');
                const cashFields = document.getElementById('cash-fields');
                const stepTitle = document.getElementById('step-title');

                // Hide all fields first
                cardFields.style.display = 'none';
                momoFields.style.display = 'none';
                cashFields.style.display = 'none';

                // Disable and un-require all inputs by default
                setFieldState('input[name="cardNumber"]', false, false);
                setFieldState('select[name="expiryMonth"]', false, false);
                setFieldState('select[name="expiryYear"]', false, false);
                setFieldState('input[name="cvv"]', false, false);
                setFieldState('select[name="momoService"]', false, false);
                setFieldState('input[name="momoName"]', false, false);
                setFieldState('input[name="momoNumber"]', false, false);

                // Show relevant fields and update title based on selection
                if (paymentType === 'card') {
                    cardFields.style.display = 'block';
                    stepTitle.textContent = 'Card Details';
                    setFieldState('input[name="cardNumber"]', true, true);
                    setFieldState('select[name="expiryMonth"]', true, true);
                    setFieldState('select[name="expiryYear"]', true, true);
                    setFieldState('input[name="cvv"]', true, true);
                } else if (paymentType === 'momo') {
                    momoFields.style.display = 'block';
                    stepTitle.textContent = 'Mobile Money Details';
                    setFieldState('select[name="momoService"]', true, true);
                    setFieldState('input[name="momoName"]', true, true);
                    setFieldState('input[name="momoNumber"]', true, true);
                } else if (paymentType === 'cash') {
                    cashFields.style.display = 'block';
                    stepTitle.textContent = 'Cash Payment';
                }
            }

            // Format card number input
            const cardNumberInput = document.querySelector('input[name="cardNumber"]');
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function (e) {
                    let value = e.target.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                    let formattedValue = value.match(/.{1,4}/g)?.join(' ');
                    e.target.value = formattedValue || value;
                });
            }

            // Format mobile number input
            const momoNumberInput = document.querySelector('input[name="momoNumber"]');
            if (momoNumberInput) {
                momoNumberInput.addEventListener('input', function (e) {
                    let value = e.target.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                    // Format as 0XX XXX XXXX
                    if (value.length > 3 && value.length <= 6) {
                        value = value.slice(0, 3) + ' ' + value.slice(3);
                    } else if (value.length > 6) {
                        value = value.slice(0, 3) + ' ' + value.slice(3, 6) + ' ' + value.slice(6, 10);
                    }
                    e.target.value = value;
                });
            }

            document.getElementById('add-payment-form').addEventListener('submit', function (e) {
                e.preventDefault();
                const formData = new FormData(this);
                const paymentType = formData.get('paymentType');

                try {
                    let paymentData = {
                        type: paymentType,
                        isDefault: formData.get('isDefault') === 'on'
                    };

                    if (paymentType === 'card') {
                        const cardNumber = formData.get('cardNumber').replace(/\s/g, '');
                        if (!cardNumber || cardNumber.length < 13) {
                            throw new Error('Please enter a valid card number');
                        }

                        const cardType = getCardType(cardNumber);
                        paymentData = {
                            ...paymentData,
                            cardType: cardType,
                            lastFour: cardNumber.slice(-4),
                            expiryMonth: formData.get('expiryMonth'),
                            expiryYear: formData.get('expiryYear'),
                            displayName: `${cardType} ending in ${cardNumber.slice(-4)}`
                        };

                        if (!formData.get('expiryMonth') || !formData.get('expiryYear')) {
                            throw new Error('Please enter expiry date');
                        }
                        if (!formData.get('cvv')) {
                            throw new Error('Please enter CVV');
                        }
                    } else if (paymentType === 'momo') {
                        const momoService = formData.get('momoService');
                        const momoName = formData.get('momoName');
                        const momoNumber = formData.get('momoNumber');

                        if (!momoService || !momoName || !momoNumber) {
                            throw new Error('Please fill in all mobile money details');
                        }

                        paymentData = {
                            ...paymentData,
                            service: momoService,
                            accountName: momoName,
                            phoneNumber: momoNumber.replace(/\s/g, ''),
                            displayName: `${momoService.charAt(0).toUpperCase() + momoService.slice(1)} - ${momoName} (${momoNumber})`
                        };
                    } else if (paymentType === 'cash') {
                        paymentData = {
                            ...paymentData,
                            displayName: 'Cash Payment'
                        };
                    }

                    window.GoShopAuth.addPaymentMethod(paymentData);
                    const user = window.GoShopAuth.getProfile();
                    updatePaymentMethodsTab(user.paymentMethods || []);
                    closePaymentModal();
                    showNotification('Payment method added successfully!', 'success');
                } catch (error) {
                    showNotification('Error adding payment method: ' + error.message, 'error');
                }
            });
        }

        function getCardType(cardNumber) {
            if (cardNumber.startsWith('4')) return 'Visa';
            if (cardNumber.startsWith('5') || cardNumber.startsWith('2')) return 'Mastercard';
            if (cardNumber.startsWith('3')) return 'American Express';
            return 'Unknown';
        }

        function closeAddressModal() {
            const modal = document.getElementById('add-address-modal');
            if (modal) {
                modal.remove();
                unlockBodyScroll();
            }
        }

        function closePaymentModal() {
            const modal = document.getElementById('add-payment-modal');
            if (modal) {
                modal.remove();
                unlockBodyScroll();
            }
        }

        function saveProfileChanges() {
            const fullNameInput = document.querySelector('input[placeholder="Full Name"]');
            const emailInput = document.querySelector('input[placeholder="Email Address"]');
            const phoneInput = document.querySelector('input[placeholder="Phone Number"]');
            const locationTextarea = document.querySelector('textarea[placeholder="Address"]');

            try {
                const updates = {
                    fullname: fullNameInput ? fullNameInput.value : '',
                    email: emailInput ? emailInput.value : '',
                    phone: phoneInput ? phoneInput.value : '',
                    location: locationTextarea ? locationTextarea.value : ''
                };

                // Remove empty values
                Object.keys(updates).forEach(key => {
                    if (!updates[key]) delete updates[key];
                });

                const updatedUser = window.GoShopAuth.updateProfile(updates);
                updateProfileDisplay(updatedUser);

                // Show success message
                showNotification('Profile updated successfully!', 'success');
            } catch (error) {
                showNotification('Error updating profile: ' + error.message, 'error');
            }
        }

        function addLogoutToNav() {
            // Add logout option to profile navigation
            const profileNavDesktop = document.querySelector('.profile-nav-desktop');
            if (profileNavDesktop && !profileNavDesktop.querySelector('[data-logout]')) {
                const logoutBtn = document.createElement('button');
                logoutBtn.className = 'profile-nav-btn logout-btn';
                logoutBtn.setAttribute('data-logout', '');
                logoutBtn.innerHTML = 'Logout';
                logoutBtn.style.cssText = 'color: #dc3545; border-color: #dc3545;';
                profileNavDesktop.appendChild(logoutBtn);

                logoutBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    if (confirm('Are you sure you want to logout?')) {
                        window.GoShopAuth.logout();
                    }
                });
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1em 1.5em;
                border-radius: 0.5em;
                color: white;
                font-weight: bold;
                z-index: 10000;
                transition: all 0.3s ease;
                ${type === 'success' ? 'background-color: #28a745;' : ''}
                ${type === 'error' ? 'background-color: #dc3545;' : ''}
                ${type === 'info' ? 'background-color: #17a2b8;' : ''}
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        function showEditProfileModal() {
            const user = window.GoShopAuth.getProfile();

            // Create modal HTML
            const modalHTML = `
                <div id="edit-profile-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; align-items: center; justify-content: center;">
                    <div class="modal-content" style="background: white; padding: 2em; border-radius: 1em; max-width: 400px; width: 90%;">
                        <h3 style="margin-top: 0;">Edit Profile</h3>
                        <form id="edit-profile-form">
                            <div style="margin-bottom: 1em;">
                                <label style="display: block; margin-bottom: 0.5em;">Full Name:</label>
                                <input type="text" name="fullname" value="${user.fullname}" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                            </div>
                            <div style="margin-bottom: 1em;">
                                <label style="display: block; margin-bottom: 0.5em;">Email:</label>
                                <input type="email" name="email" value="${user.email}" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                            </div>
                            <div style="margin-bottom: 1em;">
                                <label style="display: block; margin-bottom: 0.5em;">Location:</label>
                                <input type="text" name="location" value="${user.location}" style="width: 100%; padding: 0.5em; border: 1px solid #ddd; border-radius: 0.25em;" required>
                            </div>
                            <div style="display: flex; gap: 1em; justify-content: flex-end;">
                                <button type="button" onclick="closeEditProfileModal()" style="padding: 0.5em 1em; border: 1px solid #ddd; background: white; border-radius: 0.25em; cursor: pointer;">Cancel</button>
                                <button type="submit" style="padding: 0.5em 1em; background: var(--clr-yellow-01); border: none; border-radius: 0.25em; cursor: pointer; font-weight: bold;">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHTML);
            lockBodyScroll();

            // Add form submit handler
            document.getElementById('edit-profile-form').addEventListener('submit', function (e) {
                e.preventDefault();

                const formData = new FormData(this);
                const updates = {
                    fullname: formData.get('fullname'),
                    email: formData.get('email'),
                    location: formData.get('location')
                };

                try {
                    const updatedUser = window.GoShopAuth.updateProfile(updates);
                    updateProfileDisplay(updatedUser);
                    closeEditProfileModal();
                    alert('Profile updated successfully!');
                } catch (error) {
                    alert('Error updating profile: ' + error.message);
                }
            });
        }

        function closeEditProfileModal() {
            const modal = document.getElementById('edit-profile-modal');
            if (modal) {
                modal.remove();
                unlockBodyScroll();
            }
        }

        // Add some profile UI elements if they don't exist
        window.addEventListener('load', function () {
            addProfileUIElements();
        });

        function addProfileUIElements() {
            // Add debugging info for development
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                const debugInfo = document.createElement('div');
                debugInfo.style.cssText = `
                    position: fixed; 
                    bottom: 20px; 
                    left: 20px; 
                    background: rgba(0,0,0,0.8); 
                    color: white;
                    padding: 10px; 
                    border-radius: 5px; 
                    font-size: 12px;
                    z-index: 1000; 
                    max-width: 300px;
                    font-family: monospace;
                `;

                const user = window.GoShopAuth && window.GoShopAuth.getProfile ? window.GoShopAuth.getProfile() : null;
                debugInfo.innerHTML = `
                    <strong>Auth Debug Info:</strong><br>
                    User: ${user ? user.username : 'Not logged in'}<br>
                    Email: ${user ? user.email : 'N/A'}<br>
                    Profile elements updated: ${document.querySelector('.profile-name') ? 'Yes' : 'No'}<br>
                    <small>This debug info only shows in localhost</small>
                `;

                document.body.appendChild(debugInfo);

                // Remove after 10 seconds
                setTimeout(() => {
                    if (debugInfo.parentNode) {
                        debugInfo.parentNode.removeChild(debugInfo);
                    }
                }, 10000);
            }
        }
    </script>
</body>

</html>